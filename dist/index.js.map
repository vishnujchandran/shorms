{"version":3,"sources":["../types/field.ts","../lib/versioning/constants.ts","../lib/versioning/validate.ts","../lib/versioning/migrate.ts","../lib/form-schema.ts","../lib/schema-adapter.ts","../stores/form.ts","../lib/utils.ts","../components/ui/button.tsx","../components/ui/label.tsx","../components/ui/form.tsx","../components/ui/calendar.tsx","../components/ui/checkbox.tsx","../components/ui/dialog.tsx","../components/ui/command.tsx","../components/ui/input.tsx","../components/ui/popover.tsx","../components/ui/radio-group.tsx","../components/ui/select.tsx","../components/ui/slider.tsx","../components/ui/switch.tsx","../components/ui/textarea.tsx","../components/form-field-wrapper.tsx","../components/render-form-field-component.tsx","../components/ui/tooltip.tsx","../components/tooltip-wrapper.tsx","../components/field.tsx","../components/sortable-field.tsx","../hooks/use-toast.ts","../lib/constants.ts","../components/shorms/builder/constants.ts","../components/ui/scroll-area.tsx","../components/shorms/builder/field-library.tsx","../components/ui/separator.tsx","../components/shorms/builder/form-context.tsx","../components/field-command-palette.tsx","../components/shorms/builder/page-tabs.tsx","../components/shorms/builder/builder.tsx","../components/shorms/builder/use-builder-state.ts","../components/shorms/shadcn-builder.tsx","../components/shorms/renderer/use-form-state.ts","../components/shorms/renderer/use-validation.ts","../components/shorms/renderer/use-suggestions.ts","../components/shorms/renderer/use-background-job.ts","../components/shorms/renderer/renderer.tsx","../components/shorms/shadcn-renderer.tsx","../components/shorms/shadcn-viewer.tsx","../components/shorms/viewer/utils.ts","../components/shorms/viewer/field-display.tsx","../components/shorms/viewer/viewer.tsx","../index.ts"],"names":["FieldType","nanoid","React","cva","React2","jsx","FormField","Slot","Icon","React4","React5","React6","CommandPrimitive","jsxs","React7","React8","React9","React10","CheckIcon","React11","React12","React13","ChevronsUpDownIcon","React14","React15","React16","listeners","toast","props","CalendarIcon","React18","React19","Separator","React20","React21","selector","React22","useShallow","open","SearchCode","useSortable","React23","CSS","GripVertical","Trash2","Fragment","React24","useSensors","useSensor","PointerSensor","arrayMove","DndContext","SortableContext","DragOverlay","Plus","TypeIcon","TextIcon","HashIcon","AtSignIcon","SquareCheckIcon","CircleDotIcon","ToggleLeftIcon","SlidersHorizontalIcon","UploadIcon","useState","useEffect","_a","useRef","useCallback","errors","useMemo","fields","progress","React26","_b","format","ChevronLeft","ChevronRight","React27","count"],"mappings":"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","file":"index.js","sourcesContent":["import type { ForwardRefExoticComponent, RefAttributes } from \"react\"\nimport type { LucideProps } from \"lucide-react\"\n\nexport enum FieldType {\n  INPUT = \"INPUT\",\n  TEXTAREA = \"TEXTAREA\",\n  NUMBER_INPUT = \"NUMBER_INPUT\",\n  EMAIL = \"EMAIL\",\n  CHECKBOX = \"CHECKBOX\",\n  SELECT = \"SELECT\",\n  DATE = \"DATE\",\n  RADIO_GROUP = \"RADIO_GROUP\",\n  SWITCH = \"SWITCH\",\n  COMBOBOX = \"COMBOBOX\",\n  SLIDER = \"SLIDER\",\n  FILE_UPLOAD = \"FILE_UPLOAD\",\n}\n\ninterface FormFieldBaseType {\n  id?: string\n  type: FieldType\n  name: string\n  label: string\n  Icon: ForwardRefExoticComponent<\n    Omit<LucideProps, \"ref\"> & RefAttributes<SVGSVGElement>\n  >\n  description?: string\n  placeholder?: string\n  default?: string | number | boolean | Date\n  registryDependencies: string[]\n  validation?: {\n    required?: boolean\n    min?: number // For numbers: min value, For text: min length\n    max?: number // For numbers: max value, For text: max length\n    regex?: string\n    errorMessage?: string\n    maxFileSize?: number // For file uploads: max size in MB\n  }\n}\n\nexport interface InputFormFieldType extends FormFieldBaseType {\n  type: FieldType.INPUT\n  maxChars?: number\n}\n\nexport interface TextareaFormFieldType extends FormFieldBaseType {\n  type: FieldType.TEXTAREA\n  maxChars?: number\n}\n\nexport interface NumberInputFormFieldType extends FormFieldBaseType {\n  type: FieldType.NUMBER_INPUT\n  min?: number\n  max?: number\n}\n\nexport interface EmailFormFieldType extends FormFieldBaseType {\n  type: FieldType.EMAIL\n}\n\nexport interface CheckboxFormFieldType extends FormFieldBaseType {\n  type: FieldType.CHECKBOX\n}\n\nexport interface ChoiceItem {\n  value: any\n  label: string\n}\n\nexport interface SelectFormFieldType extends FormFieldBaseType {\n  type: FieldType.SELECT\n  choices: ChoiceItem[]\n}\n\nexport interface DateFormFieldType extends FormFieldBaseType {\n  type: FieldType.DATE\n}\n\nexport interface RadioGroupFormFieldType extends FormFieldBaseType {\n  type: FieldType.RADIO_GROUP\n  choices: ChoiceItem[]\n}\n\nexport interface SwitchFormFieldType extends FormFieldBaseType {\n  type: FieldType.SWITCH\n}\n\nexport interface ComboboxFormFieldType extends FormFieldBaseType {\n  type: FieldType.COMBOBOX\n  choices: ChoiceItem[]\n}\n\nexport interface SliderFormFieldType extends FormFieldBaseType {\n  type: FieldType.SLIDER\n  min: number\n  max: number\n  step: number\n}\n\nexport interface FileUploadFormFieldType extends FormFieldBaseType {\n  type: FieldType.FILE_UPLOAD\n  accept?: string\n  maxSize?: number\n  multiple?: boolean\n}\n\nexport type FormField =\n  | InputFormFieldType\n  | TextareaFormFieldType\n  | NumberInputFormFieldType\n  | EmailFormFieldType\n  | CheckboxFormFieldType\n  | SelectFormFieldType\n  | DateFormFieldType\n  | RadioGroupFormFieldType\n  | SwitchFormFieldType\n  | ComboboxFormFieldType\n  | SliderFormFieldType\n  | FileUploadFormFieldType\n","export const SCHEMA_VERSION = \"1.0\"\nexport const SUPPORTED_VERSIONS = [\"1.0\"]\n\nexport const SUPPORTED_FIELD_TYPES = [\n  'INPUT',\n  'TEXTAREA',\n  'EMAIL',\n  'NUMBER_INPUT',\n  'SELECT',\n  'RADIO_GROUP',\n  'CHECKBOX',\n  'SWITCH',\n  'COMBOBOX',\n  'SLIDER',\n  'DATE',\n  'FILE_UPLOAD'\n] as const\n","import type { ShormsSchema } from \"@/types/schema\"\nimport { SUPPORTED_FIELD_TYPES, SUPPORTED_VERSIONS } from \"./constants\"\n\nexport interface ValidationResult {\n  valid: boolean\n  errors: string[]\n  warnings: string[]\n  unknownFieldTypes: string[]\n}\n\nexport function validateSchema(schema: any): ValidationResult {\n  const errors: string[] = []\n  const warnings: string[] = []\n  const unknownTypes = new Set<string>()\n\n  // Check version\n  if (!schema.version) {\n    warnings.push(\"Schema has no version field, assuming 1.0\")\n  } else if (!SUPPORTED_VERSIONS.includes(schema.version)) {\n    warnings.push(`Schema version ${schema.version} may not be fully supported`)\n  }\n\n  // Check pages exist\n  if (!schema.pages || !Array.isArray(schema.pages)) {\n    errors.push(\"Schema must have a 'pages' array\")\n    return { valid: false, errors, warnings, unknownFieldTypes: [] }\n  }\n\n  // Check for unknown field types\n  schema.pages.forEach((page: any, pageIndex: number) => {\n    if (!page.fields || !Array.isArray(page.fields)) {\n      errors.push(`Page ${pageIndex} has no fields array`)\n      return\n    }\n\n    page.fields.forEach((field: any, fieldIndex: number) => {\n      if (!field.type) {\n        errors.push(`Field ${fieldIndex} on page ${pageIndex} has no type`)\n      } else if (!SUPPORTED_FIELD_TYPES.includes(field.type)) {\n        unknownTypes.add(field.type)\n      }\n\n      if (!field.name) {\n        errors.push(`Field ${fieldIndex} on page ${pageIndex} has no name`)\n      }\n    })\n  })\n\n  if (unknownTypes.size > 0) {\n    warnings.push(\n      `Schema contains unsupported field types: ${Array.from(unknownTypes).join(\", \")}`\n    )\n  }\n\n  return {\n    valid: errors.length === 0,\n    errors,\n    warnings,\n    unknownFieldTypes: Array.from(unknownTypes)\n  }\n}\n\nexport function isSupportedFieldType(type: string): boolean {\n  return SUPPORTED_FIELD_TYPES.includes(type as any)\n}\n\nexport function getUnsupportedFields(schema: ShormsSchema): string[] {\n  const unsupported: string[] = []\n\n  schema.pages.forEach((page) => {\n    page.fields.forEach((field) => {\n      if (!isSupportedFieldType(field.type)) {\n        unsupported.push(field.type)\n      }\n    })\n  })\n\n  return Array.from(new Set(unsupported))\n}\n","import type { ShormsSchema } from \"@/types/schema\"\nimport { SCHEMA_VERSION, SUPPORTED_VERSIONS } from \"./constants\"\n\nexport function migrateSchema(\n  schema: any,\n  fromVersion?: string,\n  toVersion: string = SCHEMA_VERSION\n): ShormsSchema {\n  // If no version, assume 1.0\n  const sourceVersion = fromVersion || schema.version || \"1.0\"\n\n  // If already at target version, return as-is\n  if (sourceVersion === toVersion) {\n    return {\n      version: toVersion,\n      pages: schema.pages || [],\n      metadata: schema.metadata\n    }\n  }\n\n  // Future: Add migration logic for different versions\n  // For now, just add version field if missing\n  return {\n    version: toVersion,\n    pages: schema.pages || [],\n    metadata: schema.metadata\n  }\n}\n\nexport function ensureVersion(schema: any): ShormsSchema {\n  if (schema.version) {\n    return schema as ShormsSchema\n  }\n\n  return migrateSchema(schema)\n}\n","import * as z from \"zod\"\n\nimport { FieldType, FormField } from \"@/types/field\"\n\nexport function generateZodSchema(formFields: FormField[]) {\n  const formSchemaObject: Record<string, z.ZodType<any, any>> = {}\n  formFields.forEach((field) => {\n    let fieldSchema: z.ZodTypeAny\n    switch (field.type) {\n      case FieldType.INPUT:\n      case FieldType.TEXTAREA:\n      case FieldType.EMAIL:\n      case FieldType.SELECT:\n      case FieldType.RADIO_GROUP:\n      case FieldType.COMBOBOX:\n        fieldSchema = z.string()\n        break\n      case FieldType.NUMBER_INPUT:\n      case FieldType.SLIDER:\n        fieldSchema = z.coerce.number()\n        break\n      case FieldType.CHECKBOX:\n      case FieldType.SWITCH:\n        fieldSchema = z.boolean()\n        break\n      case FieldType.DATE:\n        fieldSchema = z.coerce.date()\n        break\n      case FieldType.FILE_UPLOAD:\n        fieldSchema = z.any()\n        break\n      default:\n        fieldSchema = z.string()\n    }\n\n    // Email validation\n    if (field.type === FieldType.EMAIL) {\n      fieldSchema = (fieldSchema as z.ZodString).email({\n        message: field.validation?.errorMessage || \"Invalid email address\",\n      })\n    }\n\n    // Apply min/max for text fields (length)\n    if (\n      field.validation &&\n      (field.type === FieldType.INPUT ||\n        field.type === FieldType.TEXTAREA ||\n        field.type === FieldType.EMAIL)\n    ) {\n      if (field.validation.min !== undefined) {\n        fieldSchema = (fieldSchema as z.ZodString).min(field.validation.min, {\n          message: field.validation.errorMessage || `Minimum ${field.validation.min} characters required`,\n        })\n      }\n      if (field.validation.max !== undefined) {\n        fieldSchema = (fieldSchema as z.ZodString).max(field.validation.max, {\n          message: field.validation.errorMessage || `Maximum ${field.validation.max} characters allowed`,\n        })\n      }\n    }\n\n    // Apply min/max for number fields (value)\n    if (\n      field.validation &&\n      (field.type === FieldType.NUMBER_INPUT || field.type === FieldType.SLIDER)\n    ) {\n      if (field.validation.min !== undefined) {\n        fieldSchema = (fieldSchema as z.ZodNumber).min(field.validation.min, {\n          message: field.validation.errorMessage || `Minimum value is ${field.validation.min}`,\n        })\n      }\n      if (field.validation.max !== undefined) {\n        fieldSchema = (fieldSchema as z.ZodNumber).max(field.validation.max, {\n          message: field.validation.errorMessage || `Maximum value is ${field.validation.max}`,\n        })\n      }\n    }\n\n    // Apply Regex (Text based fields)\n    if (\n      field.validation?.regex &&\n      (field.type === FieldType.INPUT ||\n        field.type === FieldType.TEXTAREA ||\n        field.type === FieldType.EMAIL)\n    ) {\n      try {\n        fieldSchema = (fieldSchema as z.ZodString).regex(\n          new RegExp(field.validation.regex),\n          { message: field.validation.errorMessage || \"Invalid format\" }\n        )\n      } catch {\n        // Invalid regex, ignore\n        console.error(\"Invalid regex:\", field.validation.regex)\n      }\n    }\n\n    // File size validation for file uploads\n    if (field.type === FieldType.FILE_UPLOAD && field.validation?.maxFileSize) {\n      // Custom validation for file size (in MB)\n      fieldSchema = z.any().refine(\n        (file) => {\n          if (!file || !(file instanceof File)) return true\n          return file.size <= (field.validation!.maxFileSize! * 1024 * 1024)\n        },\n        {\n          message: `File size must be less than ${field.validation.maxFileSize}MB`,\n        }\n      )\n    }\n\n    // Apply Required / Optional\n    if (field.validation?.required) {\n      // For strings, required usually implies min(1) to disallow empty strings\n      if (fieldSchema instanceof z.ZodString) {\n        fieldSchema = fieldSchema.min(1, {\n          message: field.validation?.errorMessage || \"This field is required\",\n        })\n      }\n    } else {\n      fieldSchema = fieldSchema.optional()\n    }\n\n    formSchemaObject[field.name] = fieldSchema\n  })\n\n  return z.object(formSchemaObject)\n}\n\nexport const generateDefaultValues = (\n  formFields: FormField[]\n): Record<string, any> => {\n  const defaultValues: Record<string, any> = {}\n\n  formFields.forEach((field) => {\n    if (field.default !== undefined) {\n      defaultValues[field.name] = field.default\n    } else {\n      // Provide type-appropriate defaults to avoid controlled/uncontrolled warnings\n      switch (field.type) {\n        case FieldType.CHECKBOX:\n        case FieldType.SWITCH:\n          defaultValues[field.name] = false\n          break\n        case FieldType.NUMBER_INPUT:\n        case FieldType.SLIDER:\n          defaultValues[field.name] = 0\n          break\n        default:\n          defaultValues[field.name] = \"\"\n      }\n    }\n  })\n\n  return defaultValues\n}\n\nexport const zodSchemaToString = (schema: z.ZodTypeAny): string => {\n  if (schema instanceof z.ZodDefault) {\n    const defaultValue = typeof schema._def.defaultValue === 'function'\n      ? schema._def.defaultValue()\n      : schema._def.defaultValue\n    return `${zodSchemaToString(schema._def.innerType as z.ZodTypeAny)}.default(${JSON.stringify(defaultValue)})`\n  }\n\n  if (schema instanceof z.ZodBoolean) {\n    return `z.boolean()`\n  }\n\n  if (schema instanceof z.ZodNumber) {\n    let result = \"z.coerce.number()\"\n    if (\"checks\" in schema._def && schema._def.checks) {\n      schema._def.checks.forEach((check: any) => {\n        if (check.kind === \"min\") {\n          result += `.min(${check.value}${check.message ? `, \"${check.message}\"` : \"\"})`\n        } else if (check.kind === \"max\") {\n          result += `.max(${check.value}${check.message ? `, \"${check.message}\"` : \"\"})`\n        }\n      })\n    }\n    return result\n  }\n\n  if (schema instanceof z.ZodString) {\n    let result = \"z.string()\"\n    if (\"checks\" in schema._def && schema._def.checks) {\n      schema._def.checks.forEach((check: any) => {\n        if (check.kind === \"min\") {\n          result += `.min(${check.value}${check.message ? `, \"${check.message}\"` : \"\"})`\n        } else if (check.kind === \"max\") {\n          result += `.max(${check.value}${check.message ? `, \"${check.message}\"` : \"\"})`\n        } else if (check.kind === \"email\") {\n          result += `.email(${check.message ? `\"${check.message}\"` : \"\"})`\n        } else if (check.kind === \"regex\") {\n          result += `.regex(new RegExp(\"${check.regex.source.replace(/\\\\/g, \"\\\\\\\\\")}\")${check.message ? `, \"${check.message}\"` : \"\"})`\n        }\n      })\n    }\n    return result\n  }\n\n  if (schema instanceof z.ZodDate) {\n    return `z.coerce.date()`\n  }\n\n  if (schema instanceof z.ZodObject) {\n    const shape = schema.shape\n    const shapeStrs = Object.entries(shape).map(\n      ([key, value]) => `${key}: ${zodSchemaToString(value as z.ZodTypeAny)}`\n    )\n    return `z.object({\n  ${shapeStrs.join(\",\\n  \")}\n})`\n  }\n\n  if (schema instanceof z.ZodOptional) {\n    return `${zodSchemaToString(schema.unwrap() as z.ZodTypeAny)}.optional()`\n  }\n\n  return \"z.unknown()\"\n}\n\nexport const getZodSchemaString = (formFields: FormField[]): string => {\n  const schema = generateZodSchema(formFields)\n  const schemaEntries = Object.entries(schema.shape)\n    .map(([key, value]) => {\n      return `  ${key.replaceAll(\" \", \"_\")}: ${zodSchemaToString(value as z.ZodTypeAny)}`\n    })\n    .join(\",\\n\")\n\n  return `const formSchema = z.object({\\n${schemaEntries}\\n})`\n}\n","/**\n * Schema Adapter - Convert between legacy FormPage[] and new ShormsSchema\n * This allows gradual migration from old to new renderer\n */\n\nimport { nanoid } from 'nanoid'\nimport type { FormPage } from '@/types/form-store'\nimport type { ShormsSchema } from '@/components/shorms/renderer/types'\n\n/**\n * Convert legacy FormPage[] to new ShormsSchema format\n */\nexport function formPagesToSchema(pages: FormPage[]): ShormsSchema {\n  return {\n    version: '3.1.0',\n    pages: pages.map(page => ({\n      id: page.id,\n      title: page.title,\n      fields: page.fields.map(field => ({\n        id: field.id || field.name || nanoid(),\n        type: field.type.toLowerCase(),\n        name: field.name,\n        label: field.label,\n        description: field.description,\n        required: field.validation?.required,\n        validation: field.validation ? {\n          // Legacy uses min/max for both numbers and string length\n          ...(field.validation.min !== undefined && { min: field.validation.min, minLength: field.validation.min }),\n          ...(field.validation.max !== undefined && { max: field.validation.max, maxLength: field.validation.max }),\n          ...(field.validation.regex && { pattern: field.validation.regex }),\n          ...(field.type === 'EMAIL' && { email: true }),\n        } : undefined,\n        // Map legacy fields to config\n        config: {\n          ...(field.placeholder && { placeholder: field.placeholder }),\n          ...('choices' in field && field.choices ? { options: field.choices } : {}),\n        },\n      })),\n    })),\n  }\n}\n\n/**\n * Convert new ShormsSchema to legacy FormPage[] format\n * Useful for backwards compatibility\n * Note: Returns partial FormField type without Icon and registryDependencies\n */\nexport function schemaToFormPages(schema: ShormsSchema): FormPage[] {\n  return schema.pages.map(page => ({\n    id: page.id,\n    title: page.title,\n    fields: page.fields.map(field => ({\n      id: field.id,\n      type: field.type,\n      name: field.name,\n      label: field.label,\n      description: field.description,\n      placeholder: (field.config?.placeholder as string) || undefined,\n      required: field.required,\n      choices: (field.config?.options as any[]) || undefined,\n      validation: field.validation ? {\n        required: field.required,\n        min: field.validation.min || field.validation.minLength,\n        max: field.validation.max || field.validation.maxLength,\n        regex: typeof field.validation.pattern === 'string' ? field.validation.pattern : undefined,\n      } : undefined,\n    } as any)),\n  })) as any\n}\n","import { create } from \"zustand\"\nimport { persist } from \"zustand/middleware\"\nimport { immer } from \"zustand/middleware/immer\"\nimport { nanoid } from \"nanoid\"\n\nimport { FormState } from \"@/types/form-store\"\n\nconst INITIAL_PAGE_ID = \"page-1\"\n\nexport const useFormStore = create<FormState>()(\n  persist(\n    immer((set) => ({\n      isEditFormFieldOpen: false,\n      pages: [{ id: INITIAL_PAGE_ID, fields: [] }],\n      activePageId: INITIAL_PAGE_ID,\n      setPages: (pages) => set({ pages }),\n\n      setActivePage: (id) => set({ activePageId: id }),\n\n      addPage: () => {\n        const newPageId = `page_${nanoid(8)}`\n        set((state) => {\n          state.pages.push({ id: newPageId, fields: [] })\n          state.activePageId = newPageId\n        })\n      },\n\n      deletePage: (id) => {\n        set((state) => {\n          if (state.pages.length <= 1) return // Prevent deleting the last page\n\n          const index = state.pages.findIndex((p) => p.id === id)\n          if (index !== -1) {\n            state.pages.splice(index, 1)\n            // If we deleted the active page, switch to the previous one or the first one\n            if (state.activePageId === id) {\n              state.activePageId = state.pages[Math.max(0, index - 1)].id\n            }\n          }\n        })\n      },\n\n      updatePageTitle: (id, title) => {\n        set((state) => {\n          const page = state.pages.find((p) => p.id === id)\n          if (page) {\n            page.title = title\n          }\n        })\n      },\n\n      addFormField: (formField) => {\n        set((state) => {\n          const activePage = state.pages.find(\n            (p) => p.id === state.activePageId\n          )\n          if (activePage) {\n            activePage.fields.push(formField)\n          }\n        })\n      },\n\n      deleteFormField: (id) => {\n        set((state) => {\n          state.pages.forEach((page) => {\n            page.fields = page.fields.filter((f) => f.id !== id)\n          })\n        })\n      },\n\n      setSelectedFormField: (formField) => {\n        set({ selectedFormField: formField })\n      },\n\n      setIsEditFormFieldOpen: (open) => {\n        set({ isEditFormFieldOpen: open })\n      },\n\n      updateFormField: (formField) => {\n        set((state) => {\n          for (const page of state.pages) {\n            const field = page.fields.find((f) => f.id === formField.id)\n            if (field) {\n              Object.assign(field, formField)\n              break\n            }\n          }\n        })\n      },\n\n      clearFormFields: () => {\n        set({\n          pages: [{ id: INITIAL_PAGE_ID, fields: [] }],\n          activePageId: INITIAL_PAGE_ID,\n          selectedFormField: undefined,\n        })\n      },\n    })),\n    {\n      name: \"form-storage\",\n      partialize: (state) => ({ pages: state.pages }),\n    }\n  )\n)\n","import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\nimport { nanoid } from \"nanoid\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n\n/**\n * Generate a unique field ID\n * Uses nanoid for collision-resistant IDs\n */\nexport function generateFieldId(): string {\n  return nanoid(10)\n}\n\n/**\n * Generate a unique field name based on the field type\n * Format: fieldType_uniqueId (e.g., \"email_abc123xyz\")\n */\nexport function generateFieldName(fieldType: string): string {\n  const sanitized = fieldType.toLowerCase().replaceAll(\" \", \"_\")\n  return `${sanitized}_${nanoid(8)}`\n}\n","import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  ControllerProps,\n  FieldPath,\n  FieldValues,\n  FormProvider,\n  useFormContext,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-[0.8rem] text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message) : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-[0.8rem] font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport { DayPicker } from \"react-day-picker\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        month_caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        button_previous: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 absolute left-1\"\n        ),\n        button_next: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 absolute right-1\"\n        ),\n        month_grid: \"w-full border-collapse space-y-1\",\n        weekdays: \"flex\",\n        weekday:\n          \"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]\",\n        week: \"flex w-full mt-2\",\n        day: cn(\n          \"relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].outside)]:bg-accent/50 [&:has([aria-selected].range_end)]:rounded-r-md\",\n          props.mode === \"range\"\n            ? \"[&:has(>.range_end)]:rounded-r-md [&:has(>.range_start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md\"\n            : \"[&:has([aria-selected])]:rounded-md\"\n        ),\n        day_button: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-8 w-8 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        range_start: \"range_start\",\n        range_end: \"range_end\",\n        selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        today: \"bg-accent text-accent-foreground\",\n        outside:\n          \"outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30\",\n        disabled: \"text-muted-foreground opacity-50\",\n        range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        Chevron: ({ orientation }) => {\n          const Icon = orientation === \"left\" ? ChevronLeft : ChevronRight\n          return <Icon className=\"h-4 w-4\" />\n        },\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { CheckIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <CheckIcon className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { XIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <XIcon className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { SearchIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\ntype CommandDialogProps = DialogProps\n\nconst CommandDialog = ({ children, ...props }: CommandDialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <SearchIcon className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport type InputProps = React.InputHTMLAttributes<HTMLInputElement>\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverAnchor = PopoverPrimitive.Anchor\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { CircleIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <CircleIcon className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport {\n  CheckIcon,\n  ChevronDownIcon,\n  ChevronsUpDownIcon,\n  ChevronUpIcon,\n} from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronsUpDownIcon className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUpIcon />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDownIcon />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute right-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <CheckIcon className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport type TextareaProps = React.TextareaHTMLAttributes<HTMLTextAreaElement>\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","import * as React from \"react\"\n\nimport {\n  FormControl,\n  FormDescription,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\"\n\ninterface FormFieldWrapperProps {\n  label: string\n  description?: string\n  children: React.ReactNode\n}\n\nexport function FormFieldWrapper({\n  children,\n  label,\n  description,\n}: FormFieldWrapperProps) {\n  return (\n    <FormItem>\n      <FormLabel>{label}</FormLabel>\n      <FormControl>{children}</FormControl>\n      <FormDescription>{description}</FormDescription>\n      <FormMessage />\n    </FormItem>\n  )\n}\n","import { format } from \"date-fns\"\nimport { CalendarIcon, CheckIcon, ChevronsUpDownIcon } from \"lucide-react\"\nimport type { ControllerRenderProps } from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Calendar } from \"@/components/ui/calendar\"\nimport { Checkbox } from \"@/components/ui/checkbox\"\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n} from \"@/components/ui/command\"\nimport {\n  FormControl,\n  FormDescription,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\"\nimport { Input } from \"@/components/ui/input\"\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\"\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\"\nimport { Slider } from \"@/components/ui/slider\"\nimport { Switch } from \"@/components/ui/switch\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { FormFieldWrapper } from \"@/components/form-field-wrapper\"\n\nimport { FieldType, type FormField as FormFieldType } from \"@/types/field\"\n\ninterface RenderFormFieldComponentProps {\n  formField: FormFieldType\n  field: ControllerRenderProps<\n    {\n      [x: string]: any\n    },\n    string\n  >\n}\n\nexport function renderFormFieldComponent({\n  formField,\n  field,\n}: RenderFormFieldComponentProps) {\n  // Ensure field value is never undefined to prevent controlled/uncontrolled warnings\n  const safeField = {\n    ...field,\n    value: field.value ?? \"\"\n  }\n\n  switch (formField.type) {\n    case FieldType.INPUT:\n      return (\n        <FormFieldWrapper {...formField}>\n          <Input placeholder={formField.placeholder} {...safeField} />\n        </FormFieldWrapper>\n      )\n    case FieldType.TEXTAREA:\n      return (\n        <FormFieldWrapper {...formField}>\n          <Textarea\n            placeholder={formField.placeholder}\n            className=\"resize-none\"\n            {...safeField}\n          />\n        </FormFieldWrapper>\n      )\n    case FieldType.NUMBER_INPUT:\n      return (\n        <FormFieldWrapper {...formField}>\n          <Input placeholder={formField.placeholder} {...safeField} type=\"number\" />\n        </FormFieldWrapper>\n      )\n    case FieldType.EMAIL:\n      return (\n        <FormFieldWrapper {...formField}>\n          <Input placeholder={formField.placeholder} {...safeField} />\n        </FormFieldWrapper>\n      )\n    case FieldType.CHECKBOX:\n      return (\n        <FormItem className=\"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4\">\n          <FormControl>\n            <Checkbox checked={field.value} onCheckedChange={field.onChange} />\n          </FormControl>\n          <div className=\"space-y-1 leading-none\">\n            <FormLabel>{formField.label}</FormLabel>\n            <FormDescription>{formField.description}</FormDescription>\n          </div>\n        </FormItem>\n      )\n    case FieldType.SELECT:\n      return (\n        <FormItem>\n          <FormLabel>{formField.label}</FormLabel>\n          <Select\n            onValueChange={field.onChange}\n            value={field.value}\n            defaultValue={formField.default as string}\n          >\n            <FormControl>\n              <SelectTrigger>\n                <SelectValue placeholder={formField.placeholder} />\n              </SelectTrigger>\n            </FormControl>\n            <SelectContent>\n              {formField.choices.map((choice, idx) => (\n                <SelectItem\n                  value={choice.value !== \"\" ? choice.value : \"hello\"}\n                  key={idx}\n                >\n                  {choice.label}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n          <FormDescription>{formField.description}</FormDescription>\n          <FormMessage />\n        </FormItem>\n      )\n    case FieldType.DATE:\n      return (\n        <FormItem className=\"flex flex-col\">\n          <FormLabel>{formField.label}</FormLabel>\n          <Popover>\n            <PopoverTrigger asChild>\n              <FormControl>\n                <Button\n                  variant=\"outline\"\n                  className={cn(\n                    \"pl-3 text-left font-normal\",\n                    !field.value && \"text-muted-foreground\"\n                  )}\n                >\n                  {field.value ? (\n                    format(field.value, \"PPP\")\n                  ) : (\n                    <span>Pick a date</span>\n                  )}\n                  <CalendarIcon className=\"ml-auto h-4 w-4 opacity-50\" />\n                </Button>\n              </FormControl>\n            </PopoverTrigger>\n            <PopoverContent className=\"w-auto p-0\" align=\"start\">\n              <Calendar\n                mode=\"single\"\n                selected={field.value}\n                onSelect={field.onChange}\n              />\n            </PopoverContent>\n          </Popover>\n          <FormDescription>{formField.description}</FormDescription>\n          <FormMessage />\n        </FormItem>\n      )\n    case FieldType.RADIO_GROUP:\n      return (\n        <FormItem className=\"space-y-3\">\n          <FormLabel>{formField.label}</FormLabel>\n          <FormControl>\n            <RadioGroup\n              onValueChange={field.onChange}\n              defaultValue={formField.default as string}\n              className=\"flex flex-col space-y-1\"\n            >\n              {formField.choices.map((choice, idx) => (\n                <FormItem\n                  className=\"flex items-center space-x-3 space-y-0\"\n                  key={idx}\n                >\n                  <FormControl>\n                    <RadioGroupItem value={choice.value} />\n                  </FormControl>\n                  <FormLabel className=\"font-normal\">{choice.label}</FormLabel>\n                </FormItem>\n              ))}\n            </RadioGroup>\n          </FormControl>\n          <FormMessage />\n        </FormItem>\n      )\n    case FieldType.SWITCH:\n      return (\n        <FormItem className=\"flex flex-row items-center justify-between rounded-lg border p-4\">\n          <div className=\"space-y-0.5\">\n            <FormLabel className=\"text-base\">{formField.label}</FormLabel>\n            <FormDescription>{formField.description}</FormDescription>\n          </div>\n          <FormControl>\n            <Switch checked={field.value} onCheckedChange={field.onChange} />\n          </FormControl>\n        </FormItem>\n      )\n    case FieldType.COMBOBOX:\n      return (\n        <FormItem className=\"flex flex-col\">\n          <FormLabel>{formField.label}</FormLabel>\n          <Popover>\n            <PopoverTrigger asChild>\n              <FormControl>\n                <Button\n                  variant=\"outline\"\n                  role=\"combobox\"\n                  className={cn(\n                    \"justify-between\",\n                    !field.value && \"text-muted-foreground\"\n                  )}\n                >\n                  {field.value\n                    ? formField.choices.find(\n                        (choice) => choice.value === field.value\n                      )?.label\n                    : \"Select language\"}\n                  <ChevronsUpDownIcon className=\"ml-2 h-4 w-4 shrink-0 opacity-50\" />\n                </Button>\n              </FormControl>\n            </PopoverTrigger>\n            <PopoverContent className=\"p-0\" align=\"start\">\n              <Command>\n                <CommandInput placeholder=\"Search language...\" />\n                <CommandList>\n                  <CommandEmpty>No language found.</CommandEmpty>\n                  <CommandGroup>\n                    {formField.choices.map((choice, idx) => (\n                      <CommandItem\n                        value={choice.value}\n                        key={idx}\n                        onSelect={() => field.onChange(choice.value)}\n                      >\n                        <CheckIcon\n                          className={cn(\n                            \"mr-2 h-4 w-4\",\n                            choice.value === field.value\n                              ? \"opacity-100\"\n                              : \"opacity-0\"\n                          )}\n                        />\n                        {choice.label}\n                      </CommandItem>\n                    ))}\n                  </CommandGroup>\n                </CommandList>\n              </Command>\n            </PopoverContent>\n          </Popover>\n          <FormDescription>{formField.description}</FormDescription>\n          <FormMessage />\n        </FormItem>\n      )\n    case FieldType.SLIDER:\n      return (\n        <FormItem>\n          <FormLabel>{formField.label}</FormLabel>\n          <FormControl>\n            <Slider\n              min={formField.min}\n              max={formField.max}\n              step={formField.step}\n              defaultValue={[formField.default as number]}\n              onValueChange={(value) => {\n                field.onChange(value[0])\n              }}\n            />\n          </FormControl>\n          <FormDescription>\n            Selected value is{\" \"}\n            {field.value !== undefined ? field.value : formField.default},\n            minimun valus is {formField.min}, maximim values is {formField.max},\n            step size is {formField.step}\n          </FormDescription>\n          <FormMessage />\n        </FormItem>\n      )\n    case FieldType.FILE_UPLOAD:\n      return (\n        <FormItem>\n          <FormLabel>{formField.label}</FormLabel>\n          <FormControl>\n            <Input\n              type=\"file\"\n              accept={formField.accept}\n              multiple={formField.multiple}\n              onChange={(e) => field.onChange(e.target.files)}\n            />\n          </FormControl>\n          {formField.description && (\n            <FormDescription>{formField.description}</FormDescription>\n          )}\n          {formField.maxSize && (\n            <FormDescription>\n              Max file size: {formField.maxSize} MB\n            </FormDescription>\n          )}\n          <FormMessage />\n        </FormItem>\n      )\n  }\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Portal>\n    <TooltipPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </TooltipPrimitive.Portal>\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","import * as React from \"react\"\n\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\ninterface TooltipWrapperProps {\n  children: React.ReactNode\n  text: string\n  side?: \"top\" | \"right\" | \"bottom\" | \"left\" | undefined\n}\n\nexport function TooltipWrapper({ children, text, side }: TooltipWrapperProps) {\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{children}</TooltipTrigger>\n      <TooltipContent side={side}>{text}</TooltipContent>\n    </Tooltip>\n  )\n}\n","import * as React from \"react\"\nimport { useFormStore } from \"@/stores/form\"\nimport { Check, GripVertical, PenIcon, Trash2 } from \"lucide-react\"\nimport type { UseFormReturn } from \"react-hook-form\"\nimport { useShallow } from \"zustand/shallow\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { FormField } from \"@/components/ui/form\"\nimport { renderFormFieldComponent } from \"@/components/render-form-field-component\"\nimport { TooltipWrapper } from \"@/components/tooltip-wrapper\"\n\nimport type { FormField as FormFieldType } from \"@/types/field\"\nimport { FormState } from \"@/types/form-store\"\n\nexport interface FieldProps {\n  formField: FormFieldType\n  form?: UseFormReturn<any>\n  style?: React.CSSProperties\n  isDragging?: boolean\n  onDelete?: (fieldId: string) => void\n  onEdit?: (fieldId: string) => void\n}\n\nconst selector = (state: FormState) => ({\n  deleteFormField: state.deleteFormField,\n  setSelectedFormField: state.setSelectedFormField,\n  setIsEditFormFieldOpen: state.setIsEditFormFieldOpen,\n})\n\nexport const Field = React.forwardRef<HTMLDivElement, FieldProps>(\n  ({ formField, form, style, isDragging, onDelete, onEdit, ...props }, ref) => {\n    const { deleteFormField, setSelectedFormField, setIsEditFormFieldOpen } =\n      useFormStore(useShallow(selector))\n\n    const [pendingDelete, setPendingDelete] = React.useState(false)\n    const timeoutRef = React.useRef<NodeJS.Timeout | null>(null)\n\n    const clearDeleteTimeout = () => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current)\n        timeoutRef.current = null\n      }\n    }\n\n    const handleDelete = () => {\n      if (!formField.id) return\n\n      if (pendingDelete) {\n        // Second click - actually delete\n        clearDeleteTimeout()\n        if (onDelete) {\n          onDelete(formField.id)\n        } else {\n          deleteFormField(formField.id)\n        }\n      } else {\n        // First click - set pending state\n        setPendingDelete(true)\n      }\n    }\n\n    const handleDeleteMouseLeave = () => {\n      if (pendingDelete) {\n        // Start 3s timeout to reset\n        clearDeleteTimeout()\n        timeoutRef.current = setTimeout(() => {\n          setPendingDelete(false)\n        }, 3000)\n      }\n    }\n\n    const handleDeleteMouseEnter = () => {\n      if (pendingDelete) {\n        // Cancel timeout if mouse comes back\n        clearDeleteTimeout()\n      }\n    }\n\n    React.useEffect(() => {\n      return () => {\n        clearDeleteTimeout()\n      }\n    }, [])\n\n    // Reset pending delete state when dragging starts\n    React.useEffect(() => {\n      if (isDragging && pendingDelete) {\n        clearDeleteTimeout()\n        setPendingDelete(false)\n      }\n    }, [isDragging, pendingDelete])\n\n    const handleEdit = () => {\n      if (!formField.id) return\n      if (onEdit) {\n        onEdit(formField.id)\n      } else {\n        setSelectedFormField(formField.id)\n        setIsEditFormFieldOpen(true)\n      }\n    }\n\n    return (\n      <div\n        className={cn(\n          \"group relative flex items-center gap-2 rounded-md border-2 border-dashed border-transparent transition-colors\",\n          {\n            \"rounded-md border-foreground bg-muted opacity-60\": isDragging,\n            \"bg-destructive/10\": pendingDelete,\n          }\n        )}\n        style={style}\n        ref={ref}\n      >\n        <div className={cn(\n          \"absolute -left-12 top-1/2 flex -translate-y-1/2 flex-col gap-1 transition-opacity\",\n          pendingDelete ? \"opacity-100\" : \"opacity-0 group-hover:opacity-100\"\n        )}>\n          <TooltipWrapper text=\"Edit field\">\n            <Button\n              size=\"icon\"\n              variant=\"secondary\"\n              onClick={handleEdit}\n              type=\"button\"\n              className=\"h-8 w-8 hover:bg-primary hover:text-primary-foreground\"\n            >\n              <PenIcon className=\"size-4\" />\n            </Button>\n          </TooltipWrapper>\n          <TooltipWrapper text={pendingDelete ? \"Click again to confirm\" : \"Delete field\"} side=\"bottom\">\n            <Button\n              size=\"icon\"\n              variant=\"secondary\"\n              onClick={handleDelete}\n              onMouseLeave={handleDeleteMouseLeave}\n              onMouseEnter={handleDeleteMouseEnter}\n              type=\"button\"\n              className={cn(\n                \"h-8 w-8 transition-colors\",\n                pendingDelete\n                  ? \"bg-destructive text-destructive-foreground hover:bg-destructive hover:text-destructive-foreground\"\n                  : \"hover:bg-destructive hover:text-destructive-foreground\"\n              )}\n            >\n              {pendingDelete ? (\n                <Check className=\"size-4\" />\n              ) : (\n                <Trash2 className=\"size-4\" />\n              )}\n            </Button>\n          </TooltipWrapper>\n        </div>\n        <div className=\"w-full\">\n          <FormField\n            control={form?.control}\n            name={formField.name}\n            render={({ field }) =>\n              renderFormFieldComponent({ field, formField })\n            }\n          />\n        </div>\n        <Button\n          size=\"icon\"\n          variant=\"secondary\"\n          type=\"button\"\n          {...props}\n          className=\"absolute -right-12 top-1/2 h-8 w-8 -translate-y-1/2 opacity-0 transition-opacity hover:bg-primary hover:text-primary-foreground group-hover:opacity-100\"\n        >\n          <GripVertical className=\"size-4\" />\n        </Button>\n      </div>\n    )\n  }\n)\n\nField.displayName = \"Field\"\n","import * as React from \"react\"\nimport { useSortable } from \"@dnd-kit/sortable\"\nimport { CSS } from \"@dnd-kit/utilities\"\n\nimport { Field, type FieldProps } from \"@/components/field\"\n\nexport const SortableField = React.memo(({ formField, form, onDelete, onEdit }: FieldProps) => {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n  } = useSortable({\n    id: formField.name,\n  })\n\n  const style: React.CSSProperties = {\n    transform: CSS.Translate.toString(transform),\n    transition,\n  }\n\n  return (\n    <Field\n      formField={formField}\n      form={form}\n      ref={setNodeRef}\n      style={style}\n      isDragging={isDragging}\n      onDelete={onDelete}\n      onEdit={onEdit}\n      {...attributes}\n      {...listeners}\n    />\n  )\n})\n\nSortableField.displayName = \"SortableField\"\n","\"use client\"\n\n// Inspired by react-hot-toast library\nimport * as React from \"react\"\n\nimport type { ToastActionElement, ToastProps } from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\nenum ActionType {\n  ADD_TOAST = \"ADD_TOAST\",\n  UPDATE_TOAST = \"UPDATE_TOAST\",\n  DISMISS_TOAST = \"DISMISS_TOAST\",\n  REMOVE_TOAST = \"REMOVE_TOAST\",\n}\n\ntype Action =\n  | {\n      type: ActionType.ADD_TOAST\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType.UPDATE_TOAST\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType.DISMISS_TOAST\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType.REMOVE_TOAST\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: ActionType.REMOVE_TOAST,\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case ActionType.ADD_TOAST:\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case ActionType.UPDATE_TOAST:\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case ActionType.DISMISS_TOAST: {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case ActionType.REMOVE_TOAST:\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: ActionType.UPDATE_TOAST,\n      toast: { ...props, id },\n    })\n  const dismiss = () =>\n    dispatch({ type: ActionType.DISMISS_TOAST, toastId: id })\n\n  dispatch({\n    type: ActionType.ADD_TOAST,\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) =>\n      dispatch({ type: ActionType.DISMISS_TOAST, toastId }),\n  }\n}\n\nexport { useToast, toast }\n","import {\n  AtSignIcon,\n  CalendarIcon,\n  ChevronsUpDownIcon,\n  CircleDotIcon,\n  HashIcon,\n  SlidersHorizontalIcon,\n  SquareCheckIcon,\n  TextIcon,\n  ToggleLeftIcon,\n  TypeIcon,\n  UploadIcon,\n} from \"lucide-react\"\n\nimport { FieldType, type FormField } from \"@/types/field\"\n\nexport const fields: FormField[] = [\n  {\n    type: FieldType.INPUT,\n    name: \"Input\",\n    label: \"Username\",\n    placeholder: \"shadcn\",\n    description: \"Single line text entry\",\n    Icon: TypeIcon,\n    registryDependencies: [\"input\"],\n  },\n  {\n    type: FieldType.TEXTAREA,\n    name: \"Textarea\",\n    label: \"Bio\",\n    placeholder: \"Tell us a little bit about yourself\",\n    description: \"Multi-line text entry\",\n    Icon: TextIcon,\n    registryDependencies: [\"textarea\"],\n  },\n  {\n    type: FieldType.NUMBER_INPUT,\n    name: \"Number Input\",\n    label: \"Age\",\n    placeholder: \"24\",\n    description: \"Numeric value entry\",\n    Icon: HashIcon,\n    registryDependencies: [\"input\"],\n  },\n  {\n    type: FieldType.EMAIL,\n    name: \"Email\",\n    label: \"Email\",\n    placeholder: \"m@example.com\",\n    description: \"Email address entry\",\n    Icon: AtSignIcon,\n    registryDependencies: [\"input\"],\n  },\n  {\n    type: FieldType.CHECKBOX,\n    name: \"Checkbox\",\n    label: \"Use different settings for my mobile devices\",\n    description: \"Boolean yes/no toggle\",\n    Icon: SquareCheckIcon,\n    registryDependencies: [\"checkbox\"],\n  },\n  {\n    type: FieldType.SELECT,\n    name: \"Select\",\n    label: \"Email\",\n    placeholder: \"Select a verified email to display\",\n    description: \"Dropdown selection\",\n    Icon: ChevronsUpDownIcon,\n    choices: [\n      {\n        value: \"m@example.com\",\n        label: \"m@example.com\",\n      },\n      {\n        value: \"m@google.com\",\n        label: \"m@google.com\",\n      },\n      {\n        value: \"m@support.com\",\n        label: \"m@support.com\",\n      },\n    ],\n    registryDependencies: [\"select\"],\n  },\n  {\n    type: FieldType.DATE,\n    name: \"Date\",\n    label: \"Date of birth\",\n    description: \"Date picker calendar\",\n    Icon: CalendarIcon,\n    registryDependencies: [\"popover\", \"calendar\"],\n  },\n  {\n    type: FieldType.RADIO_GROUP,\n    name: \"Radio Group\",\n    label: \"Notify me about...\",\n    description: \"Single choice from list\",\n    Icon: CircleDotIcon,\n    choices: [\n      {\n        value: \"all\",\n        label: \"All new messages\",\n      },\n      {\n        value: \"mentions\",\n        label: \"Direct messages and mentions\",\n      },\n      {\n        value: \"none\",\n        label: \"Nothing\",\n      },\n    ],\n    registryDependencies: [\"radio-group\"],\n  },\n  {\n    type: FieldType.SWITCH,\n    name: \"Switch\",\n    label: \"Marketing emails\",\n    description: \"On/off toggle control\",\n    Icon: ToggleLeftIcon,\n    registryDependencies: [\"switch\"],\n  },\n  {\n    type: FieldType.COMBOBOX,\n    name: \"Combobox\",\n    label: \"Language\",\n    Icon: ChevronsUpDownIcon,\n    description: \"Searchable dropdown\",\n    choices: [\n      { label: \"English\", value: \"en\" },\n      { label: \"French\", value: \"fr\" },\n      { label: \"German\", value: \"de\" },\n      { label: \"Spanish\", value: \"es\" },\n      { label: \"Portuguese\", value: \"pt\" },\n      { label: \"Russian\", value: \"ru\" },\n      { label: \"Japanese\", value: \"ja\" },\n      { label: \"Korean\", value: \"ko\" },\n      { label: \"Chinese\", value: \"zh\" },\n    ],\n    registryDependencies: [\"popover\", \"command\"],\n  },\n  {\n    type: FieldType.SLIDER,\n    name: \"Slider\",\n    label: \"Slider\",\n    description: \"Range value selector\",\n    Icon: SlidersHorizontalIcon,\n    min: 0,\n    max: 100,\n    step: 10,\n    default: 50,\n    registryDependencies: [\"slider\"],\n  },\n  {\n    type: FieldType.FILE_UPLOAD,\n    name: \"File Upload\",\n    label: \"Upload File\",\n    description: \"File attachment field\",\n    Icon: UploadIcon,\n    accept: \"*/*\",\n    maxSize: 5,\n    multiple: false,\n    registryDependencies: [\"input\"],\n  },\n]\n","import { fields } from '@/lib/constants'\nimport type { FieldTemplate } from './types'\n\n/**\n * Convert existing field definitions to FieldTemplate format\n */\nexport const defaultFieldTemplates: FieldTemplate[] = fields.map((field) => ({\n  type: field.type,\n  name: field.name,\n  label: field.label,\n  description: field.description,\n  Icon: field.Icon,\n  defaultConfig: {\n    placeholder: field.placeholder,\n    description: field.description,\n    // @ts-expect-error - choices exist on some field types\n    choices: field.choices,\n    // @ts-expect-error - min/max/step exist on slider\n    min: field.min,\n    // @ts-expect-error\n    max: field.max,\n    // @ts-expect-error\n    step: field.step,\n    default: field.default,\n  },\n}))\n\n/**\n * Default width classes for builder\n */\nexport const widthClasses = {\n  sm: 'max-w-2xl', // 672px - Not recommended: field controls may overflow\n  md: 'max-w-3xl', // 768px - Recommended minimum\n  lg: 'max-w-5xl', // 1024px\n  xl: 'max-w-7xl', // 1280px\n  full: 'max-w-full',\n}\n\n/**\n * Field categories for organization\n */\nexport const fieldCategories = [\n  {\n    name: 'Text Input',\n    types: ['INPUT', 'TEXTAREA', 'EMAIL'],\n  },\n  {\n    name: 'Numbers & Dates',\n    types: ['NUMBER_INPUT', 'SLIDER', 'DATE'],\n  },\n  {\n    name: 'Selection',\n    types: ['SELECT', 'RADIO_GROUP', 'COMBOBOX'],\n  },\n  {\n    name: 'Toggles',\n    types: ['CHECKBOX', 'SWITCH'],\n  },\n  {\n    name: 'Special',\n    types: ['FILE_UPLOAD'],\n  },\n]\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","'use client'\n\nimport * as React from 'react'\nimport { SearchCode } from 'lucide-react'\n\nimport { Input } from '@/components/ui/input'\nimport { ScrollArea } from '@/components/ui/scroll-area'\nimport { cn } from '@/lib/utils'\n\nimport { fieldCategories } from './constants'\nimport type { FieldLibraryProps, FieldTemplate } from './types'\n\n/**\n * Field library sidebar component\n * Displays available field templates organized by category\n */\nexport function FieldLibrary({\n  fieldTemplates,\n  onFieldSelect,\n  searchPlaceholder = 'Search fields...',\n  showSearch = true,\n  className,\n  width = 280,\n}: FieldLibraryProps) {\n  const [searchQuery, setSearchQuery] = React.useState('')\n\n  const filteredCategories = React.useMemo(() => {\n    if (!searchQuery.trim()) return fieldCategories\n\n    const query = searchQuery.toLowerCase()\n    return fieldCategories\n      .map((category) => ({\n        ...category,\n        types: category.types.filter((type) => {\n          const template = fieldTemplates.find((f) => f.type === type)\n          return (\n            template?.name.toLowerCase().includes(query) ||\n            template?.description?.toLowerCase().includes(query)\n          )\n        }),\n      }))\n      .filter((category) => category.types.length > 0)\n  }, [searchQuery, fieldTemplates])\n\n  return (\n    <div\n      className={cn('flex h-full flex-col border-r bg-muted/20', className)}\n      style={{ width: `${width}px` }}\n    >\n      {/* Search */}\n      {showSearch && (\n        <div className=\"shrink-0 p-4\">\n          <div className=\"relative\">\n            <SearchCode className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\n            <Input\n              placeholder={searchPlaceholder}\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"pl-9\"\n            />\n          </div>\n        </div>\n      )}\n\n      {/* Field Categories */}\n      <ScrollArea className=\"flex-1\">\n        <div className=\"space-y-6 p-4\">\n          {filteredCategories.length === 0 ? (\n            <div className=\"py-8 text-center text-sm text-muted-foreground\">\n              No fields found\n            </div>\n          ) : (\n            filteredCategories.map((category) => (\n              <div key={category.name}>\n                <h3 className=\"mb-3 text-xs font-semibold uppercase tracking-wider text-muted-foreground\">\n                  {category.name}\n                </h3>\n                <div className=\"space-y-2\">\n                  {category.types.map((type) => {\n                    const template = fieldTemplates.find((f) => f.type === type)\n                    if (!template) return null\n\n                    return (\n                      <button\n                        key={template.type}\n                        onClick={() => onFieldSelect(template)}\n                        className={cn(\n                          'flex w-full items-start gap-3 rounded-lg border bg-card p-3 text-left transition-all hover:border-primary hover:bg-accent hover:shadow-md'\n                        )}\n                      >\n                        <div className=\"flex h-10 w-10 shrink-0 items-center justify-center rounded-md border bg-muted/50\">\n                          <template.Icon className=\"h-5 w-5 text-muted-foreground\" />\n                        </div>\n                        <div className=\"flex-1 space-y-1\">\n                          <div className=\"text-sm font-medium leading-none\">\n                            {template.name}\n                          </div>\n                          {template.description && (\n                            <div className=\"text-xs text-muted-foreground\">\n                              {template.description}\n                            </div>\n                          )}\n                        </div>\n                      </button>\n                    )\n                  })}\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      </ScrollArea>\n    </div>\n  )\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","'use client'\n\nimport * as React from 'react'\nimport { FileJson2, Info, Layers } from 'lucide-react'\n\nimport { ScrollArea } from '@/components/ui/scroll-area'\nimport { Separator } from '@/components/ui/separator'\nimport { cn } from '@/lib/utils'\n\nimport type { FormContextProps } from './types'\n\n/**\n * Form context sidebar component\n * Displays statistics and information about the current form\n */\nexport function FormContext({\n  pages,\n  activePageId,\n  className,\n  width = 380,\n  sections = {\n    statistics: true,\n    currentPage: true,\n    tips: true,\n  },\n}: FormContextProps) {\n  const activePage = React.useMemo(\n    () => pages.find((p) => p.id === activePageId) || pages[0],\n    [pages, activePageId]\n  )\n\n  const stats = React.useMemo(() => {\n    const totalFields = pages.reduce((acc, page) => acc + page.fields.length, 0)\n    const requiredFields = pages.reduce(\n      (acc, page) =>\n        acc + page.fields.filter((f) => f.validation?.required).length,\n      0\n    )\n    const fieldsWithValidation = pages.reduce(\n      (acc, page) =>\n        acc +\n        page.fields.filter(\n          (f) => f.validation && Object.keys(f.validation).length > 0\n        ).length,\n      0\n    )\n\n    return {\n      totalPages: pages.length,\n      totalFields,\n      currentPageFields: activePage?.fields.length || 0,\n      requiredFields,\n      fieldsWithValidation,\n    }\n  }, [pages, activePage])\n\n  return (\n    <div\n      className={cn('flex h-full flex-col border-l bg-muted/20', className)}\n      style={{ width: `${width}px` }}\n    >\n      <ScrollArea className=\"flex-1\">\n        <div className=\"space-y-6 p-4 pt-5\">\n          {/* Statistics */}\n          {sections.statistics && (\n            <div>\n              <div className=\"mb-3 flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-muted-foreground\">\n                <Info className=\"h-3.5 w-3.5\" />\n                Statistics\n              </div>\n              <div className=\"space-y-3 rounded-lg border bg-card p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-sm text-muted-foreground\">\n                    Total Pages\n                  </span>\n                  <span className=\"text-sm font-semibold\">\n                    {stats.totalPages}\n                  </span>\n                </div>\n                <Separator />\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-sm text-muted-foreground\">\n                    Total Fields\n                  </span>\n                  <span className=\"text-sm font-semibold\">\n                    {stats.totalFields}\n                  </span>\n                </div>\n                <Separator />\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-sm text-muted-foreground\">\n                    Current Page\n                  </span>\n                  <span className=\"text-sm font-semibold\">\n                    {stats.currentPageFields}{' '}\n                    {stats.currentPageFields === 1 ? 'field' : 'fields'}\n                  </span>\n                </div>\n                <Separator />\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-sm text-muted-foreground\">\n                    Required Fields\n                  </span>\n                  <span className=\"text-sm font-semibold\">\n                    {stats.requiredFields}\n                  </span>\n                </div>\n                <Separator />\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-sm text-muted-foreground\">\n                    With Validation\n                  </span>\n                  <span className=\"text-sm font-semibold\">\n                    {stats.fieldsWithValidation}\n                  </span>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Current Page Info */}\n          {sections.currentPage && (\n            <div>\n              <div className=\"mb-3 flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-muted-foreground\">\n                <Layers className=\"h-3.5 w-3.5\" />\n                Current Page\n              </div>\n              <div className=\"space-y-2 rounded-lg border bg-card p-4\">\n                <div>\n                  <span className=\"text-xs text-muted-foreground\">Title</span>\n                  <p className=\"mt-1 text-sm font-medium\">\n                    {activePage?.title ||\n                      `Page ${pages.findIndex((p) => p.id === activePageId) + 1}`}\n                  </p>\n                </div>\n                <Separator />\n                <div>\n                  <span className=\"text-xs text-muted-foreground\">Fields</span>\n                  {activePage && activePage.fields.length > 0 ? (\n                    <div className=\"mt-2 space-y-1\">\n                      {activePage.fields.map((field) => (\n                        <div\n                          key={field.id}\n                          className=\"flex items-center gap-2 rounded border bg-muted/30 px-2 py-1.5 text-xs\"\n                        >\n                          <span className=\"truncate font-medium\">\n                            {field.label || field.name}\n                          </span>\n                          {field.validation?.required && (\n                            <span className=\"ml-auto shrink-0 text-[10px] text-destructive\">\n                              Required\n                            </span>\n                          )}\n                        </div>\n                      ))}\n                    </div>\n                  ) : (\n                    <p className=\"mt-2 text-xs text-muted-foreground\">\n                      No fields yet\n                    </p>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Tips */}\n          {sections.tips && (\n            <div>\n              <div className=\"mb-3 flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-muted-foreground\">\n                <FileJson2 className=\"h-3.5 w-3.5\" />\n                Quick Tips\n              </div>\n              <div className=\"space-y-2 rounded-lg border bg-card p-4 text-xs text-muted-foreground\">\n                <p> Click a field to edit its properties</p>\n                <p> Drag fields to reorder them</p>\n                <p> Double-click page tabs to rename</p>\n                <p> Press K to add fields quickly</p>\n              </div>\n            </div>\n          )}\n        </div>\n      </ScrollArea>\n    </div>\n  )\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport { useFormStore } from \"@/stores/form\"\nimport { Plus, SearchCode } from \"lucide-react\"\nimport { useShallow } from \"zustand/shallow\"\n\nimport { fields } from \"@/lib/constants\"\nimport { generateFieldId, generateFieldName } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n} from \"@/components/ui/command\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\"\n\nimport { FormState } from \"@/types/form-store\"\n\nconst selector = (state: FormState) => ({\n  addFormField: state.addFormField,\n})\n\nexport function FieldCommandPalette() {\n  const [open, setOpen] = React.useState(false)\n  const { addFormField } = useFormStore(useShallow(selector))\n\n  React.useEffect(() => {\n    const down = (e: KeyboardEvent) => {\n      if (e.key === \"k\" && (e.metaKey || e.ctrlKey)) {\n        e.preventDefault()\n        setOpen((open) => !open)\n      }\n    }\n\n    document.addEventListener(\"keydown\", down)\n    return () => document.removeEventListener(\"keydown\", down)\n  }, [])\n\n  const handleSelectField = (field: typeof fields[0]) => {\n    const newFormField = {\n      ...field,\n      id: generateFieldId(),\n      name: generateFieldName(field.name),\n    }\n    addFormField(newFormField)\n    setOpen(false)\n  }\n\n  return (\n    <>\n      <Button\n        variant=\"outline\"\n        size=\"icon\"\n        onClick={() => setOpen(true)}\n      >\n        <SearchCode className=\"h-4 w-4\" />\n      </Button>\n\n      <Dialog open={open} onOpenChange={setOpen}>\n        <DialogContent className=\"max-w-2xl p-0\">\n          <DialogHeader className=\"px-6 pt-6\">\n            <DialogTitle>Add Field</DialogTitle>\n            <DialogDescription>\n              Search and select a field type to add to your form\n            </DialogDescription>\n          </DialogHeader>\n          <Command className=\"border-t\">\n            <CommandInput placeholder=\"Search fields...\" />\n            <CommandList>\n              <CommandEmpty>No fields found.</CommandEmpty>\n              <CommandGroup heading=\"Available Fields\">\n                {fields.map((field) => (\n                  <CommandItem\n                    key={field.type}\n                    value={field.name}\n                    onSelect={() => handleSelectField(field)}\n                    className=\"flex items-center gap-3 py-3\"\n                  >\n                    <div className=\"flex h-10 w-10 items-center justify-center rounded-md border bg-muted\">\n                      <field.Icon className=\"h-5 w-5\" />\n                    </div>\n                    <div className=\"flex-1\">\n                      <div className=\"font-medium\">{field.name}</div>\n                      {field.description && (\n                        <div className=\"text-sm text-muted-foreground\">\n                          {field.description}\n                        </div>\n                      )}\n                    </div>\n                  </CommandItem>\n                ))}\n              </CommandGroup>\n            </CommandList>\n          </Command>\n        </DialogContent>\n      </Dialog>\n    </>\n  )\n}\n","'use client'\n\nimport * as React from 'react'\nimport {\n  closestCenter,\n  DndContext,\n  DragEndEvent,\n  DragOverlay,\n  DragStartEvent,\n  PointerSensor,\n  useSensor,\n  useSensors,\n} from '@dnd-kit/core'\nimport {\n  arrayMove,\n  horizontalListSortingStrategy,\n  SortableContext,\n  useSortable,\n} from '@dnd-kit/sortable'\nimport { CSS } from '@dnd-kit/utilities'\nimport { FilePlus, GripVertical, Trash2 } from 'lucide-react'\n\nimport { Button } from '@/components/ui/button'\nimport { FieldCommandPalette } from '@/components/field-command-palette'\nimport { cn } from '@/lib/utils'\n\nimport type { FormPage, PageTabsProps } from './types'\n\ninterface SortablePageTabProps {\n  page: FormPage\n  index: number\n  isActive: boolean\n  canDelete: boolean\n  onSelect: () => void\n  onDelete: () => void\n  onRename: (title: string) => void\n}\n\nfunction SortablePageTab({\n  page,\n  index,\n  isActive,\n  canDelete,\n  onSelect,\n  onDelete,\n  onRename,\n}: SortablePageTabProps) {\n  const { attributes, listeners, setNodeRef, transform, transition } =\n    useSortable({ id: page.id })\n  const [isEditing, setIsEditing] = React.useState(false)\n  const [editValue, setEditValue] = React.useState(page.title || '')\n  const inputRef = React.useRef<HTMLInputElement>(null)\n\n  React.useEffect(() => {\n    if (isEditing) {\n      inputRef.current?.focus()\n      inputRef.current?.select()\n    }\n  }, [isEditing])\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n  }\n\n  const handleSave = () => {\n    if (editValue.trim()) {\n      onRename(editValue.trim())\n    }\n    setIsEditing(false)\n  }\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      handleSave()\n    } else if (e.key === 'Escape') {\n      setEditValue(page.title || '')\n      setIsEditing(false)\n    }\n  }\n\n  return (\n    <div\n      ref={setNodeRef}\n      style={style}\n      className={cn(\n        'flex cursor-pointer items-center gap-1.5 rounded-lg border bg-background px-3 py-2 text-sm shadow-sm transition-all hover:bg-accent/50 hover:shadow-md',\n        isActive &&\n          'border-primary bg-primary/10 font-semibold shadow-md ring-1 ring-primary/20'\n      )}\n      onClick={onSelect}\n    >\n      <div\n        {...attributes}\n        {...listeners}\n        className=\"cursor-grab active:cursor-grabbing\"\n      >\n        <GripVertical className=\"h-3 w-3 text-muted-foreground\" />\n      </div>\n\n      {isEditing ? (\n        <input\n          ref={inputRef}\n          type=\"text\"\n          value={editValue}\n          onChange={(e) => setEditValue(e.target.value)}\n          onBlur={handleSave}\n          onKeyDown={handleKeyDown}\n          onClick={(e) => e.stopPropagation()}\n          className=\"min-w-[60px] max-w-[120px] bg-transparent px-1 outline-none\"\n        />\n      ) : (\n        <span\n          className=\"max-w-[120px] truncate\"\n          onDoubleClick={(e) => {\n            e.stopPropagation()\n            setIsEditing(true)\n          }}\n        >\n          {page.title || `Page ${index + 1}`}\n        </span>\n      )}\n\n      {canDelete && (\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"ml-1 h-4 w-4 hover:text-destructive\"\n          onClick={(e) => {\n            e.stopPropagation()\n            onDelete()\n          }}\n        >\n          <Trash2 className=\"h-3 w-3\" />\n        </Button>\n      )}\n    </div>\n  )\n}\n\n/**\n * Page tabs component for managing form pages\n * Supports drag-drop reordering and inline editing\n */\nexport function PageTabs({\n  pages,\n  activePageId,\n  onPageSelect,\n  onPageAdd,\n  onPageDelete,\n  onPageRename,\n  onPageReorder,\n  dragDropEnabled = true,\n  showCommandPalette = false,\n  showLeftSidebar = false,\n  className,\n  renderCommandPalette,\n}: PageTabsProps) {\n  const [isMounted, setIsMounted] = React.useState(false)\n  const [activePageDragId, setActivePageDragId] = React.useState<string | null>(\n    null\n  )\n\n  React.useEffect(() => {\n    setIsMounted(true)\n  }, [])\n\n  const sensors = useSensors(\n    useSensor(PointerSensor, {\n      activationConstraint: {\n        distance: 8,\n      },\n    })\n  )\n\n  const handlePageDragEnd = (event: DragEndEvent) => {\n    const { active, over } = event\n\n    if (over && active.id !== over.id && onPageReorder) {\n      const oldIndex = pages.findIndex((p) => p.id === active.id)\n      const newIndex = pages.findIndex((p) => p.id === over.id)\n      const newPages = arrayMove(pages, oldIndex, newIndex)\n      onPageReorder(newPages)\n    }\n    setActivePageDragId(null)\n  }\n\n  const handlePageDragStart = (event: DragStartEvent) => {\n    setActivePageDragId(event.active.id as string)\n  }\n\n  const TabContent = () => (\n    <div className=\"flex min-w-0 flex-1 items-center gap-2 overflow-x-auto md:gap-3\">\n      {pages.map((page, index) => (\n        <SortablePageTab\n          key={page.id}\n          page={page}\n          index={index}\n          isActive={activePageId === page.id}\n          canDelete={pages.length > 1}\n          onSelect={() => onPageSelect(page.id)}\n          onDelete={() => onPageDelete?.(page.id)}\n          onRename={(title) => onPageRename?.(page.id, title)}\n        />\n      ))}\n    </div>\n  )\n\n  if (!isMounted || !dragDropEnabled) {\n    return (\n      <div\n        className={cn(\n          'flex shrink-0 items-center gap-2 border-b bg-muted/20 px-3 py-2.5 md:gap-3 md:px-4 md:py-3',\n          className\n        )}\n      >\n        {!showLeftSidebar && showCommandPalette && (\n          <>\n            {renderCommandPalette ? renderCommandPalette() : <FieldCommandPalette />}\n            <div className=\"h-6 w-px bg-border\" />\n          </>\n        )}\n        <TabContent />\n        <div className=\"h-6 w-px bg-border\" />\n        {onPageAdd && (\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            onClick={onPageAdd}\n            className=\"shrink-0\"\n          >\n            <FilePlus className=\"h-4 w-4\" />\n          </Button>\n        )}\n      </div>\n    )\n  }\n\n  return (\n    <DndContext\n      sensors={sensors}\n      collisionDetection={closestCenter}\n      onDragEnd={handlePageDragEnd}\n      onDragStart={handlePageDragStart}\n    >\n      <div\n        className={cn(\n          'flex shrink-0 items-center gap-2 border-b bg-muted/20 px-3 py-2.5 md:gap-3 md:px-4 md:py-3',\n          className\n        )}\n      >\n        {!showLeftSidebar && showCommandPalette && (\n          <>\n            {renderCommandPalette ? renderCommandPalette() : <FieldCommandPalette />}\n            <div className=\"h-6 w-px bg-border\" />\n          </>\n        )}\n        <SortableContext\n          items={pages.map((p) => p.id)}\n          strategy={horizontalListSortingStrategy}\n        >\n          <TabContent />\n        </SortableContext>\n        <div className=\"h-6 w-px bg-border\" />\n        {onPageAdd && (\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            onClick={onPageAdd}\n            className=\"shrink-0\"\n          >\n            <FilePlus className=\"h-4 w-4\" />\n          </Button>\n        )}\n      </div>\n      <DragOverlay>\n        {activePageDragId && (\n          <div className=\"flex items-center gap-1 rounded-md border bg-background px-2 py-1.5 text-sm opacity-80 shadow-lg\">\n            <GripVertical className=\"h-3 w-3 text-muted-foreground\" />\n            <span>\n              {pages.find((p) => p.id === activePageDragId)?.title ||\n                `Page ${pages.findIndex((p) => p.id === activePageDragId) + 1}`}\n            </span>\n          </div>\n        )}\n      </DragOverlay>\n    </DndContext>\n  )\n}\n","'use client'\n\nimport * as React from 'react'\nimport {\n  closestCenter,\n  DndContext,\n  DragEndEvent,\n  DragOverlay,\n  DragStartEvent,\n  PointerSensor,\n  useSensor,\n  useSensors,\n} from '@dnd-kit/core'\nimport {\n  arrayMove,\n  SortableContext,\n  verticalListSortingStrategy,\n} from '@dnd-kit/sortable'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport { Plus } from 'lucide-react'\nimport { useForm } from 'react-hook-form'\nimport { z } from 'zod'\n\nimport { Field } from '@/components/field'\nimport { SortableField } from '@/components/sortable-field'\nimport { Button } from '@/components/ui/button'\nimport { Form } from '@/components/ui/form'\nimport { generateDefaultValues, generateZodSchema } from '@/lib/form-schema'\nimport { generateFieldId, generateFieldName, cn } from '@/lib/utils'\nimport { toast } from '@/hooks/use-toast'\nimport type { FormField } from '@/types/field'\n\nimport { defaultFieldTemplates, widthClasses } from './constants'\nimport { FieldLibrary } from './field-library'\nimport { FormContext } from './form-context'\nimport { PageTabs } from './page-tabs'\nimport type { BuilderProps, FieldTemplate } from './types'\n\n/**\n * Main Builder component (controlled)\n * A library-ready form builder with no internal global state\n */\nexport function Builder({\n  pages,\n  activePageId,\n  onPagesChange,\n  onActivePageChange,\n  onPageAdd,\n  onPageDelete,\n  onPageRename,\n  onPageReorder,\n  onFieldAdd,\n  onFieldUpdate,\n  onFieldDelete,\n  onFieldEdit,\n  onFieldReorder,\n  width = 'lg',\n  showFieldLibrary,\n  showFormContext,\n  fieldTemplates = defaultFieldTemplates,\n  features = {\n    dragDrop: true,\n    pageManagement: true,\n    fieldSearch: true,\n    commandPalette: true,\n  },\n  renderCommandPalette,\n  className,\n}: BuilderProps) {\n  const [isMounted, setIsMounted] = React.useState(false)\n  const [activeFormField, setActiveFormField] =\n    React.useState<FormField | null>(null)\n\n  const widthClass = typeof width === 'string' ? widthClasses[width] : ''\n  const widthStyle = typeof width === 'number' ? { maxWidth: `${width}px` } : {}\n\n  // Sidebar visibility based on width setting\n  const leftSidebarVisible = React.useMemo(() => {\n    if (showFieldLibrary !== undefined) return showFieldLibrary\n    if (typeof width === 'number') return width >= 1024\n    return width === 'lg' || width === 'xl' || width === 'full'\n  }, [width, showFieldLibrary])\n\n  const rightSidebarVisible = React.useMemo(() => {\n    if (showFormContext !== undefined) return showFormContext\n    if (typeof width === 'number') return width >= 1536\n    return width === 'full'\n  }, [width, showFormContext])\n\n  React.useEffect(() => {\n    setIsMounted(true)\n  }, [])\n\n  const sensors = useSensors(\n    useSensor(PointerSensor, {\n      activationConstraint: {\n        distance: 8,\n      },\n    })\n  )\n\n  const activePage = React.useMemo(\n    () => pages.find((p) => p.id === activePageId) || pages[0],\n    [pages, activePageId]\n  )\n\n  const currentFields = React.useMemo(\n    () => activePage?.fields || [],\n    [activePage]\n  )\n\n  const formSchema = React.useMemo(\n    () => generateZodSchema(currentFields),\n    [currentFields]\n  )\n\n  const defaultValues = React.useMemo(\n    () => generateDefaultValues(currentFields),\n    [currentFields]\n  )\n\n  const form = useForm<z.infer<typeof formSchema>>({\n    resolver: zodResolver(formSchema),\n    defaultValues,\n    mode: 'onChange',\n  })\n\n  React.useEffect(() => {\n    form.reset(defaultValues, { keepDefaultValues: false })\n  }, [defaultValues, form])\n\n  const onSubmit = (values: z.infer<typeof formSchema>) => {\n    toast({\n      title: 'You submitted the following values:',\n      description: (\n        <pre className=\"mt-2 w-[340px] overflow-auto rounded-md bg-slate-950 p-4\">\n          <code className=\"overflow-auto text-white\">\n            {JSON.stringify(values, null, 2)}\n          </code>\n        </pre>\n      ),\n    })\n  }\n\n  // Handle field drag and drop\n  function handleDragEnd(event: DragEndEvent) {\n    const { active, over } = event\n\n    if (over && active.id !== over.id && activePage && onFieldReorder) {\n      const oldIndex = currentFields.findIndex(\n        (field) => field.name === active.id\n      )\n      const newIndex = currentFields.findIndex(\n        (field) => field.name === over.id\n      )\n\n      const newFields = arrayMove(currentFields, oldIndex, newIndex)\n      onFieldReorder(activePage.id, newFields)\n    }\n    setActiveFormField(null)\n  }\n\n  function handleDragStart(event: DragStartEvent) {\n    const { active } = event\n    const formField = currentFields.find((field) => field.name === active.id)\n    if (formField) {\n      setActiveFormField(formField)\n    }\n  }\n\n  // Handle field template selection from library\n  const handleFieldSelect = (template: FieldTemplate) => {\n    if (!onFieldAdd) {\n      console.warn('onFieldAdd callback not provided')\n      return\n    }\n\n    const newField: FormField = {\n      ...template.defaultConfig,\n      id: generateFieldId(),\n      name: generateFieldName(template.name),\n      type: template.type,\n      label: template.label,\n      Icon: template.Icon,\n      registryDependencies: [],\n    } as FormField\n\n    onFieldAdd(newField)\n  }\n\n  return (\n    <div\n      className={cn('flex h-full', widthClass, className)}\n      style={widthStyle}\n    >\n      {/* Left Sidebar - Field Library */}\n      {leftSidebarVisible && (\n        <FieldLibrary\n          fieldTemplates={fieldTemplates}\n          onFieldSelect={handleFieldSelect}\n          showSearch={features.fieldSearch}\n        />\n      )}\n\n      {/* Main Content Area */}\n      <div className=\"flex min-w-0 flex-1 flex-col overflow-hidden\">\n        {/* Page Tabs */}\n        {features.pageManagement && (\n          <PageTabs\n            pages={pages}\n            activePageId={activePageId}\n            onPageSelect={onActivePageChange}\n            onPageAdd={onPageAdd}\n            onPageDelete={onPageDelete}\n            onPageRename={onPageRename}\n            onPageReorder={onPageReorder}\n            dragDropEnabled={features.dragDrop}\n            showCommandPalette={features.commandPalette}\n            showLeftSidebar={leftSidebarVisible}\n            renderCommandPalette={renderCommandPalette}\n          />\n        )}\n\n        {/* Field List */}\n        <div className=\"flex-1 overflow-y-auto\">\n          {isMounted && features.dragDrop ? (\n            <DndContext onDragEnd={handleDragEnd} onDragStart={handleDragStart}>\n              {currentFields.length !== 0 ? (\n                <Form {...form}>\n                  <form\n                    onSubmit={form.handleSubmit(onSubmit)}\n                    className=\"mx-auto flex w-full max-w-2xl flex-col gap-5 px-4 py-8 md:gap-6 md:px-8 md:py-10\"\n                  >\n                    <SortableContext\n                      items={currentFields.map((formField) => formField.name)}\n                      strategy={verticalListSortingStrategy}\n                    >\n                      {currentFields.map((formField) => (\n                        <SortableField\n                          formField={formField}\n                          form={form}\n                          key={formField.name}\n                          onDelete={onFieldDelete}\n                          onEdit={onFieldEdit}\n                        />\n                      ))}\n                    </SortableContext>\n                    <DragOverlay className=\"bg-background\">\n                      {activeFormField ? (\n                        <Field formField={activeFormField} />\n                      ) : (\n                        <></>\n                      )}\n                    </DragOverlay>\n                    <Button type=\"submit\" size=\"lg\" className=\"mt-2\">\n                      Submit Form\n                    </Button>\n                  </form>\n                </Form>\n              ) : (\n                <EmptyState />\n              )}\n            </DndContext>\n          ) : currentFields.length !== 0 ? (\n            <Form {...form}>\n              <form\n                onSubmit={form.handleSubmit(onSubmit)}\n                className=\"mx-auto flex w-full max-w-2xl flex-col gap-5 px-4 py-8 md:gap-6 md:px-8 md:py-10\"\n              >\n                {currentFields.map((formField) => (\n                  <Field formField={formField} key={formField.name} onDelete={onFieldDelete} onEdit={onFieldEdit} />\n                ))}\n                <Button type=\"submit\" size=\"lg\" className=\"mt-2\">\n                  Submit Form\n                </Button>\n              </form>\n            </Form>\n          ) : (\n            <EmptyState />\n          )}\n        </div>\n      </div>\n      {/* End Main Content Area */}\n\n      {/* Right Sidebar - Form Context */}\n      {rightSidebarVisible && (\n        <FormContext pages={pages} activePageId={activePageId} />\n      )}\n    </div>\n  )\n}\n\nfunction EmptyState() {\n  return (\n    <div className=\"flex h-full items-center justify-center py-24\">\n      <div className=\"space-y-4 text-center\">\n        <div className=\"mx-auto flex h-20 w-20 items-center justify-center rounded-2xl bg-primary/10 ring-1 ring-primary/20\">\n          <Plus className=\"h-10 w-10 text-primary\" />\n        </div>\n        <div className=\"space-y-2\">\n          <h3 className=\"text-xl font-semibold tracking-tight\">No fields yet</h3>\n          <p className=\"max-w-md text-sm text-muted-foreground\">\n            Press{' '}\n            <kbd className=\"rounded border bg-muted px-1.5 py-0.5 text-xs font-semibold\">\n              K\n            </kbd>{' '}\n            to add fields to your form\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { useCallback, useState, useEffect } from 'react'\nimport { nanoid } from 'nanoid'\nimport {\n  AtSignIcon,\n  CalendarIcon,\n  ChevronsUpDownIcon,\n  CircleDotIcon,\n  HashIcon,\n  SlidersHorizontalIcon,\n  SquareCheckIcon,\n  TextIcon,\n  ToggleLeftIcon,\n  TypeIcon,\n  UploadIcon,\n} from 'lucide-react'\nimport { FieldType, type FormField } from '@/types/field'\nimport type { FormPage } from './types'\n\n// Map field types to their icons for hydration from localStorage\nconst fieldTypeToIcon: Record<string, typeof TypeIcon> = {\n  [FieldType.INPUT]: TypeIcon,\n  [FieldType.TEXTAREA]: TextIcon,\n  [FieldType.NUMBER_INPUT]: HashIcon,\n  [FieldType.EMAIL]: AtSignIcon,\n  [FieldType.CHECKBOX]: SquareCheckIcon,\n  [FieldType.SELECT]: ChevronsUpDownIcon,\n  [FieldType.DATE]: CalendarIcon,\n  [FieldType.RADIO_GROUP]: CircleDotIcon,\n  [FieldType.SWITCH]: ToggleLeftIcon,\n  [FieldType.COMBOBOX]: ChevronsUpDownIcon,\n  [FieldType.SLIDER]: SlidersHorizontalIcon,\n  [FieldType.FILE_UPLOAD]: UploadIcon,\n}\n\nconst STORAGE_KEY = 'shorms-builder-state'\n\n// Hydrate pages with Icon components after loading from localStorage\nfunction hydratePages(pages: FormPage[]): FormPage[] {\n  return pages.map(page => ({\n    ...page,\n    fields: page.fields.map(field => ({\n      ...field,\n      Icon: fieldTypeToIcon[field.type] || TypeIcon,\n    })),\n  }))\n}\n\n// Load pages from localStorage\nfunction loadFromStorage(): FormPage[] | null {\n  if (typeof window === 'undefined') return null\n  try {\n    const stored = localStorage.getItem(STORAGE_KEY)\n    if (stored) {\n      const parsed = JSON.parse(stored)\n      return hydratePages(parsed)\n    }\n  } catch (e) {\n    console.warn('Failed to load from localStorage:', e)\n  }\n  return null\n}\n\n// Save pages to localStorage (strips non-serializable Icon)\nfunction saveToStorage(pages: FormPage[]) {\n  if (typeof window === 'undefined') return\n  try {\n    // Strip Icon from fields before saving\n    const toSave = pages.map(page => ({\n      ...page,\n      fields: page.fields.map(({ Icon, ...field }) => field),\n    }))\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(toSave))\n  } catch (e) {\n    console.warn('Failed to save to localStorage:', e)\n  }\n}\n\n/**\n * Hook for managing Builder state\n * Provides a convenient way to manage form pages and fields without Zustand\n * Automatically persists to localStorage\n *\n * @param initialPages - Optional initial pages (defaults to single empty page)\n * @returns Builder state and operations\n */\nexport function useBuilderState(initialPages?: FormPage[]) {\n  const [isHydrated, setIsHydrated] = useState(false)\n  const [pages, setPages] = useState<FormPage[]>(\n    initialPages || [\n      {\n        id: nanoid(),\n        title: 'Page 1',\n        fields: [],\n      },\n    ]\n  )\n\n  const [activePageId, setActivePageId] = useState(pages[0]?.id || '')\n\n  // Load from localStorage after hydration to avoid mismatch\n  useEffect(() => {\n    const stored = loadFromStorage()\n    if (stored && stored.length > 0) {\n      setPages(stored)\n      setActivePageId(stored[0].id)\n    }\n    setIsHydrated(true)\n  }, [])\n\n  // Persist to localStorage whenever pages change (only after hydration)\n  useEffect(() => {\n    if (isHydrated) {\n      saveToStorage(pages)\n    }\n  }, [pages, isHydrated])\n\n  // ===== Page Operations =====\n\n  const addPage = useCallback(() => {\n    const newPage: FormPage = {\n      id: nanoid(),\n      title: `Page ${pages.length + 1}`,\n      fields: [],\n    }\n    setPages([...pages, newPage])\n    setActivePageId(newPage.id)\n  }, [pages])\n\n  const deletePage = useCallback(\n    (pageId: string) => {\n      if (pages.length === 1) {\n        console.warn('Cannot delete the last page')\n        return\n      }\n\n      const newPages = pages.filter((p) => p.id !== pageId)\n      setPages(newPages)\n\n      // If deleted page was active, switch to first page\n      if (activePageId === pageId) {\n        setActivePageId(newPages[0].id)\n      }\n    },\n    [pages, activePageId]\n  )\n\n  const updatePageTitle = useCallback(\n    (pageId: string, title: string) => {\n      setPages(pages.map((p) => (p.id === pageId ? { ...p, title } : p)))\n    },\n    [pages]\n  )\n\n  const reorderPages = useCallback((newPages: FormPage[]) => {\n    setPages(newPages)\n  }, [])\n\n  // ===== Field Operations =====\n\n  const addField = useCallback(\n    (field: FormField) => {\n      setPages(\n        pages.map((page) =>\n          page.id === activePageId\n            ? { ...page, fields: [...page.fields, field] }\n            : page\n        )\n      )\n    },\n    [pages, activePageId]\n  )\n\n  const updateField = useCallback(\n    (fieldId: string, updates: Partial<FormField>) => {\n      setPages(\n        pages.map((page): FormPage => ({\n          ...page,\n          fields: page.fields.map((f): FormField =>\n            f.id === fieldId ? ({ ...f, ...updates } as FormField) : f\n          ),\n        }))\n      )\n    },\n    [pages]\n  )\n\n  const deleteField = useCallback(\n    (fieldId: string) => {\n      setPages(\n        pages.map((page) => ({\n          ...page,\n          fields: page.fields.filter((f) => f.id !== fieldId),\n        }))\n      )\n    },\n    [pages]\n  )\n\n  const reorderFields = useCallback(\n    (pageId: string, newFields: FormField[]) => {\n      setPages(\n        pages.map((page) =>\n          page.id === pageId ? { ...page, fields: newFields } : page\n        )\n      )\n    },\n    [pages]\n  )\n\n  // ===== Utility Methods =====\n\n  const getActivePage = useCallback(() => {\n    return pages.find((p) => p.id === activePageId) || pages[0]\n  }, [pages, activePageId])\n\n  const getActiveFields = useCallback(() => {\n    return getActivePage()?.fields || []\n  }, [getActivePage])\n\n  const reset = useCallback((newPages?: FormPage[]) => {\n    const resetPages = newPages || [\n      {\n        id: nanoid(),\n        title: 'Page 1',\n        fields: [],\n      },\n    ]\n    setPages(resetPages)\n    setActivePageId(resetPages[0].id)\n  }, [])\n\n  return {\n    // State\n    pages,\n    activePageId,\n    onPagesChange: setPages,\n    onActivePageChange: setActivePageId,\n\n    // Page operations (with \"on\" prefix to match Builder props)\n    onPageAdd: addPage,\n    onPageDelete: deletePage,\n    onPageRename: (pageId: string, title: string) => updatePageTitle(pageId, title),\n    onPageReorder: reorderPages,\n\n    // Field operations (with \"on\" prefix to match Builder props)\n    onFieldAdd: addField,\n    onFieldUpdate: (fieldId: string, updates: Partial<FormField>) => updateField(fieldId, updates),\n    onFieldDelete: deleteField,\n    onFieldReorder: reorderFields,\n\n    // Utility\n    getActivePage,\n    getActiveFields,\n    reset,\n  }\n}\n","'use client'\n\nimport * as React from 'react'\nimport { Builder, type BuilderProps } from './builder'\n\n/**\n * ShadcnBuilder - High-level wrapper around Builder with shadcn/ui styling\n * This component provides the same interface as Builder but with additional\n * conveniences and defaults optimized for shadcn/ui projects\n *\n * @example\n * ```tsx\n * import { ShadcnBuilder, useBuilderState } from '@/components/shorms'\n *\n * function App() {\n *   const builder = useBuilderState()\n *\n *   return (\n *     <ShadcnBuilder\n *       pages={builder.pages}\n *       activePageId={builder.activePageId}\n *       onPagesChange={builder.setPages}\n *       onActivePageChange={builder.setActivePageId}\n *       onPageAdd={builder.addPage}\n *       onPageDelete={builder.deletePage}\n *       onPageRename={builder.updatePageTitle}\n *       onFieldAdd={builder.addField}\n *       width=\"full\"\n *     />\n *   )\n * }\n * ```\n */\nexport function ShadcnBuilder(props: BuilderProps) {\n  return <Builder {...props} />\n}\n\nShadcnBuilder.displayName = 'ShadcnBuilder'\n","/**\n * Shorms Renderer - Form State Management Hook\n * Manages form values, dirty state, history, and suggestions\n */\n\nimport { useState, useCallback, useRef, useMemo } from 'react'\nimport type {\n  FormStateAPI,\n  FormValues,\n  FieldSuggestionState,\n  PageBadges,\n  HistoryEntry,\n  FieldChange,\n  ShormsSchema,\n  ValidationResult,\n} from './types'\n\ninterface UseFormStateOptions {\n  schema: ShormsSchema\n  initialValues?: FormValues\n  maxHistorySize?: number\n  onDirtyStateChange?: (isDirty: boolean, dirtyFields: string[]) => void\n}\n\ninterface FormStateInternal {\n  values: FormValues\n  initialValues: FormValues\n  suggestions: Map<string, FieldSuggestionState>\n  validations: Map<string, ValidationResult>\n\n  // History tracking\n  history: HistoryEntry[]\n  historyIndex: number\n\n  // Dirty tracking\n  dirtyFields: Set<string>\n\n  // Draft tracking\n  lastSavedAt?: number\n  lastSavedValues?: FormValues\n\n  // Job tracking\n  activeJobId?: string\n  expectingFields: Set<string>\n  loadingFields: Set<string>\n\n  // Metadata\n  metadata: {\n    startedAt: number\n    submittedAt?: number\n    duration?: number\n    aiAssistedFields: Set<string>\n    userEditedFields: Set<string>\n  }\n}\n\nexport function useFormState(options: UseFormStateOptions): FormStateAPI {\n  const { schema, initialValues = {}, maxHistorySize = 50, onDirtyStateChange } = options\n\n  // Initialize state\n  const [state, setState] = useState<FormStateInternal>(() => {\n    // Generate default values from schema\n    const defaultValues: FormValues = {}\n    schema.pages.forEach(page => {\n      page.fields.forEach(field => {\n        if (field.defaultValue !== undefined) {\n          defaultValues[field.name] = field.defaultValue\n        } else if (initialValues[field.name] !== undefined) {\n          defaultValues[field.name] = initialValues[field.name]\n        }\n      })\n    })\n\n    return {\n      values: { ...defaultValues, ...initialValues },\n      initialValues: { ...defaultValues, ...initialValues },\n      suggestions: new Map(),\n      validations: new Map(),\n      history: [],\n      historyIndex: -1,\n      dirtyFields: new Set(),\n      expectingFields: new Set(),\n      loadingFields: new Set(),\n      metadata: {\n        startedAt: Date.now(),\n        aiAssistedFields: new Set(),\n        userEditedFields: new Set(),\n      },\n    }\n  })\n\n  // Refs for callbacks\n  const stateRef = useRef(state)\n  stateRef.current = state\n\n  // Helper: Add to history\n  const addToHistory = useCallback((entry: HistoryEntry) => {\n    setState(prev => {\n      // Remove any future history if we're not at the end\n      const newHistory = prev.history.slice(0, prev.historyIndex + 1)\n      newHistory.push(entry)\n\n      // Limit history size\n      if (newHistory.length > maxHistorySize) {\n        newHistory.shift()\n      }\n\n      return {\n        ...prev,\n        history: newHistory,\n        historyIndex: newHistory.length - 1,\n      }\n    })\n  }, [maxHistorySize])\n\n  // Helper: Check if field is dirty\n  const isFieldDirty = useCallback((fieldId: string): boolean => {\n    const currentValue = stateRef.current.values[fieldId]\n    const initialValue = stateRef.current.initialValues[fieldId]\n    return currentValue !== initialValue\n  }, [])\n\n  // Core API: Get value\n  const getValue = useCallback((fieldId: string): any => {\n    return stateRef.current.values[fieldId]\n  }, [])\n\n  // Core API: Set value\n  const setValue = useCallback((fieldId: string, value: any, source: 'user' | 'suggested' | 'system' = 'user') => {\n    setState(prev => {\n      const oldValue = prev.values[fieldId]\n\n      // Skip if value hasn't changed\n      if (oldValue === value) {\n        return prev\n      }\n\n      const newValues = { ...prev.values, [fieldId]: value }\n      const newDirtyFields = new Set(prev.dirtyFields)\n\n      // Update dirty tracking\n      if (value !== prev.initialValues[fieldId]) {\n        newDirtyFields.add(fieldId)\n      } else {\n        newDirtyFields.delete(fieldId)\n      }\n\n      // Track source\n      const newMetadata = { ...prev.metadata }\n      if (source === 'user') {\n        newMetadata.userEditedFields = new Set(prev.metadata.userEditedFields).add(fieldId)\n      } else if (source === 'suggested') {\n        newMetadata.aiAssistedFields = new Set(prev.metadata.aiAssistedFields).add(fieldId)\n      }\n\n      // Add to history\n      const historyEntry: HistoryEntry = {\n        timestamp: Date.now(),\n        type: 'field-edit',\n        fieldIds: [fieldId],\n        description: `Changed ${fieldId}`,\n      }\n\n      // Notify dirty state change\n      if (onDirtyStateChange && newDirtyFields.size !== prev.dirtyFields.size) {\n        onDirtyStateChange(newDirtyFields.size > 0, Array.from(newDirtyFields))\n      }\n\n      return {\n        ...prev,\n        values: newValues,\n        dirtyFields: newDirtyFields,\n        metadata: newMetadata,\n      }\n    })\n\n    // Add to history after state update\n    addToHistory({\n      timestamp: Date.now(),\n      type: 'field-edit',\n      fieldIds: [fieldId],\n      description: `Changed ${fieldId}`,\n    })\n  }, [onDirtyStateChange, addToHistory])\n\n  // Suggestion API: Get suggestion state\n  const getSuggestionState = useCallback((fieldId: string): FieldSuggestionState | null => {\n    return stateRef.current.suggestions.get(fieldId) || null\n  }, [])\n\n  // Suggestion API: Set suggestion state\n  const setSuggestionState = useCallback((fieldId: string, suggestionState: FieldSuggestionState) => {\n    setState(prev => {\n      const newSuggestions = new Map(prev.suggestions)\n      newSuggestions.set(fieldId, suggestionState)\n      return { ...prev, suggestions: newSuggestions }\n    })\n  }, [])\n\n  // Suggestion API: Accept suggestion\n  const acceptSuggestion = useCallback((fieldId: string) => {\n    const suggestion = stateRef.current.suggestions.get(fieldId)\n    if (!suggestion) return\n\n    // Set the suggested value as the active value\n    setValue(fieldId, suggestion.suggestedValue, 'suggested')\n\n    // Update suggestion state\n    setSuggestionState(fieldId, {\n      ...suggestion,\n      activeValue: 'suggested',\n      status: 'accepted',\n    })\n\n    // Add to history\n    addToHistory({\n      timestamp: Date.now(),\n      type: 'accept-suggestion',\n      fieldIds: [fieldId],\n      description: `Accepted suggestion for ${fieldId}`,\n    })\n  }, [setValue, setSuggestionState, addToHistory])\n\n  // Suggestion API: Dismiss suggestion\n  const dismissSuggestion = useCallback((fieldId: string) => {\n    const suggestion = stateRef.current.suggestions.get(fieldId)\n    if (!suggestion) return\n\n    // Update suggestion state\n    setSuggestionState(fieldId, {\n      ...suggestion,\n      status: 'dismissed',\n    })\n\n    // Add to history\n    addToHistory({\n      timestamp: Date.now(),\n      type: 'dismiss-suggestion',\n      fieldIds: [fieldId],\n      description: `Dismissed suggestion for ${fieldId}`,\n    })\n  }, [setSuggestionState, addToHistory])\n\n  // Suggestion API: Toggle between user and suggested value\n  const toggleValue = useCallback((fieldId: string) => {\n    const suggestion = stateRef.current.suggestions.get(fieldId)\n    if (!suggestion) return\n\n    const newActiveValue = suggestion.activeValue === 'user' ? 'suggested' : 'user'\n    const newValue = newActiveValue === 'user' ? suggestion.userValue : suggestion.suggestedValue\n\n    setValue(fieldId, newValue, newActiveValue === 'suggested' ? 'suggested' : 'user')\n\n    setSuggestionState(fieldId, {\n      ...suggestion,\n      activeValue: newActiveValue,\n    })\n\n    addToHistory({\n      timestamp: Date.now(),\n      type: 'toggle-value',\n      fieldIds: [fieldId],\n      description: `Toggled to ${newActiveValue} value for ${fieldId}`,\n    })\n  }, [setValue, setSuggestionState, addToHistory])\n\n  // Suggestion API: Reset to original suggestion\n  const resetToOriginalSuggestion = useCallback((fieldId: string) => {\n    const suggestion = stateRef.current.suggestions.get(fieldId)\n    if (!suggestion) return\n\n    setSuggestionState(fieldId, {\n      ...suggestion,\n      suggestedValue: suggestion.originalSuggestedValue,\n      suggestedValueModified: false,\n    })\n\n    if (suggestion.activeValue === 'suggested') {\n      setValue(fieldId, suggestion.originalSuggestedValue, 'suggested')\n    }\n  }, [setSuggestionState, setValue])\n\n  // Suggestion API: Mark as reviewed\n  const markAsReviewed = useCallback((fieldId: string) => {\n    const suggestion = stateRef.current.suggestions.get(fieldId)\n    if (!suggestion) return\n\n    setSuggestionState(fieldId, {\n      ...suggestion,\n      status: 'reviewing',\n    })\n  }, [setSuggestionState])\n\n  // Bulk Suggestion API: Accept all suggestions\n  const acceptAllSuggestions = useCallback(() => {\n    const fieldIds: string[] = []\n\n    stateRef.current.suggestions.forEach((suggestion, fieldId) => {\n      if (suggestion.status === 'available' || suggestion.status === 'reviewing') {\n        acceptSuggestion(fieldId)\n        fieldIds.push(fieldId)\n      }\n    })\n\n    addToHistory({\n      timestamp: Date.now(),\n      type: 'bulk-accept',\n      fieldIds,\n      description: `Accepted ${fieldIds.length} suggestions`,\n    })\n  }, [acceptSuggestion, addToHistory])\n\n  // Bulk Suggestion API: Accept all on page\n  const acceptAllOnPage = useCallback((pageId: string) => {\n    const page = schema.pages.find(p => p.id === pageId)\n    if (!page) return\n\n    const fieldIds: string[] = []\n\n    page.fields.forEach(field => {\n      const suggestion = stateRef.current.suggestions.get(field.name)\n      if (suggestion && (suggestion.status === 'available' || suggestion.status === 'reviewing')) {\n        acceptSuggestion(field.name)\n        fieldIds.push(field.name)\n      }\n    })\n\n    addToHistory({\n      timestamp: Date.now(),\n      type: 'bulk-accept',\n      fieldIds,\n      description: `Accepted ${fieldIds.length} suggestions on page ${pageId}`,\n    })\n  }, [schema, acceptSuggestion, addToHistory])\n\n  // Bulk Suggestion API: Dismiss all on page\n  const dismissAllOnPage = useCallback((pageId: string) => {\n    const page = schema.pages.find(p => p.id === pageId)\n    if (!page) return\n\n    page.fields.forEach(field => {\n      const suggestion = stateRef.current.suggestions.get(field.name)\n      if (suggestion && (suggestion.status === 'available' || suggestion.status === 'reviewing')) {\n        dismissSuggestion(field.name)\n      }\n    })\n  }, [schema, dismissSuggestion])\n\n  // Validation API: Get field validation\n  const getFieldValidation = useCallback((fieldId: string): ValidationResult | null => {\n    return stateRef.current.validations.get(fieldId) || null\n  }, [])\n\n  // Validation API: Set field validation\n  const setFieldValidation = useCallback((fieldId: string, validation: ValidationResult | null) => {\n    setState(prev => {\n      const newValidations = new Map(prev.validations)\n      if (validation) {\n        newValidations.set(fieldId, validation)\n      } else {\n        newValidations.delete(fieldId)\n      }\n      return { ...prev, validations: newValidations }\n    })\n  }, [])\n\n  // History API: Undo\n  const undo = useCallback(() => {\n    // TODO: Implement undo logic\n    // This would require storing snapshots of values/suggestions\n    setState(prev => ({\n      ...prev,\n      historyIndex: Math.max(-1, prev.historyIndex - 1),\n    }))\n  }, [])\n\n  // History API: Redo\n  const redo = useCallback(() => {\n    // TODO: Implement redo logic\n    setState(prev => ({\n      ...prev,\n      historyIndex: Math.min(prev.history.length - 1, prev.historyIndex + 1),\n    }))\n  }, [])\n\n  // History API: Clear history\n  const clearHistory = useCallback(() => {\n    setState(prev => ({\n      ...prev,\n      history: [],\n      historyIndex: -1,\n    }))\n  }, [])\n\n  // Utility API: Reset\n  const reset = useCallback(() => {\n    setState(prev => ({\n      ...prev,\n      values: { ...prev.initialValues },\n      dirtyFields: new Set(),\n      suggestions: new Map(),\n      validations: new Map(),\n      history: [],\n      historyIndex: -1,\n    }))\n  }, [])\n\n  // Utility API: Mark clean\n  const markClean = useCallback(() => {\n    setState(prev => ({\n      ...prev,\n      lastSavedAt: Date.now(),\n      lastSavedValues: { ...prev.values },\n    }))\n  }, [])\n\n  // Utility API: Get changes\n  const getChanges = useCallback((): FieldChange[] => {\n    const changes: FieldChange[] = []\n    const baseValues = stateRef.current.lastSavedValues || stateRef.current.initialValues\n\n    Object.keys(stateRef.current.values).forEach(fieldId => {\n      const currentValue = stateRef.current.values[fieldId]\n      const baseValue = baseValues[fieldId]\n\n      if (currentValue !== baseValue) {\n        const suggestion = stateRef.current.suggestions.get(fieldId)\n        const source = suggestion?.status === 'accepted' ? 'suggested' : 'user'\n\n        changes.push({\n          fieldId,\n          from: baseValue,\n          to: currentValue,\n          timestamp: Date.now(),\n          source,\n        })\n      }\n    })\n\n    return changes\n  }, [])\n\n  // Job API: Cancel job\n  const cancelJob = useCallback(async (jobId: string) => {\n    setState(prev => ({\n      ...prev,\n      activeJobId: prev.activeJobId === jobId ? undefined : prev.activeJobId,\n    }))\n  }, [])\n\n  // Computed: Pending suggestions\n  const getPendingSuggestions = useCallback((): string[] => {\n    const pending: string[] = []\n    stateRef.current.suggestions.forEach((suggestion, fieldId) => {\n      if (suggestion.status === 'available' || suggestion.status === 'reviewing') {\n        pending.push(fieldId)\n      }\n    })\n    return pending\n  }, [])\n\n  // Computed: Suggestion count\n  const getSuggestionCount = useCallback((): number => {\n    return getPendingSuggestions().length\n  }, [getPendingSuggestions])\n\n  // Computed: Page badges\n  const getPageBadges = useCallback((pageId: string): PageBadges => {\n    const page = schema.pages.find(p => p.id === pageId)\n    if (!page) {\n      return { errors: 0, warnings: 0, suggestions: 0 }\n    }\n\n    let errors = 0\n    let warnings = 0\n    let suggestions = 0\n\n    page.fields.forEach(field => {\n      const validation = stateRef.current.validations.get(field.name)\n      if (validation && !validation.valid) {\n        if (validation.severity === 'error' && validation.blocking) {\n          errors++\n        } else if (validation.severity === 'warning') {\n          warnings++\n        }\n      }\n\n      const suggestion = stateRef.current.suggestions.get(field.name)\n      if (suggestion && (suggestion.status === 'available' || suggestion.status === 'reviewing')) {\n        suggestions++\n      }\n    })\n\n    return { errors, warnings, suggestions }\n  }, [schema])\n\n  // Computed: Expecting fields\n  const getExpectingFields = useCallback((): string[] => {\n    return Array.from(stateRef.current.expectingFields)\n  }, [])\n\n  // Computed: Loading fields\n  const getLoadingFields = useCallback((): string[] => {\n    return Array.from(stateRef.current.loadingFields)\n  }, [])\n\n  // Computed: Is valid\n  const isValid = useMemo(() => {\n    let valid = true\n    state.validations.forEach(validation => {\n      if (!validation.valid && validation.blocking) {\n        valid = false\n      }\n    })\n    return valid\n  }, [state.validations])\n\n  // Computed: Errors\n  const errors = useMemo(() => {\n    const errorMap: Record<string, string> = {}\n    state.validations.forEach((validation, fieldId) => {\n      if (!validation.valid && validation.message) {\n        errorMap[fieldId] = validation.message\n      }\n    })\n    return errorMap\n  }, [state.validations])\n\n  // Computed: Metadata (convert Sets to arrays)\n  const metadata = useMemo(() => ({\n    ...state.metadata,\n    aiAssistedFields: Array.from(state.metadata.aiAssistedFields),\n    userEditedFields: Array.from(state.metadata.userEditedFields),\n  }), [state.metadata])\n\n  // Build and return the API\n  return {\n    // Values\n    values: state.values,\n    getValue,\n    setValue,\n\n    // Dirty state\n    isDirty: state.dirtyFields.size > 0,\n    dirtyFields: state.dirtyFields,\n    hasUnsavedChanges: state.lastSavedAt\n      ? state.dirtyFields.size > 0\n      : state.dirtyFields.size > 0,\n\n    // Validation\n    isValid,\n    errors,\n    getFieldValidation,\n\n    // Suggestions\n    getSuggestionState,\n    getPendingSuggestions,\n    getSuggestionCount,\n    getPageBadges,\n    getExpectingFields,\n    getLoadingFields,\n\n    // Suggestion actions\n    acceptSuggestion,\n    dismissSuggestion,\n    toggleValue,\n    markAsReviewed,\n    resetToOriginalSuggestion,\n\n    // Bulk actions\n    acceptAllSuggestions,\n    acceptAllOnPage,\n    dismissAllOnPage,\n\n    // History\n    canUndo: state.historyIndex >= 0,\n    canRedo: state.historyIndex < state.history.length - 1,\n    undo,\n    redo,\n    clearHistory,\n\n    // Draft\n    lastSavedAt: state.lastSavedAt,\n    isDraftSaved: state.lastSavedAt !== undefined,\n\n    // Jobs\n    activeJobId: state.activeJobId,\n    cancelJob,\n\n    // Metadata\n    metadata,\n\n    // Utility\n    reset,\n    markClean,\n    getChanges,\n  }\n}\n\n// Internal helper for other hooks to update suggestion/validation state\nexport type FormStateUpdaters = {\n  setSuggestionState: (fieldId: string, state: FieldSuggestionState) => void\n  setFieldValidation: (fieldId: string, validation: ValidationResult | null) => void\n  setExpectingFields: (fields: Set<string>) => void\n  setLoadingFields: (fields: Set<string>) => void\n  setActiveJobId: (jobId: string | undefined) => void\n}\n","/**\n * Shorms Renderer - Validation Hook\n * Handles sync and async validation with caching\n */\n\nimport { useCallback, useRef, useMemo } from 'react'\nimport type {\n  FormField,\n  FormValues,\n  ValidationResult,\n  ValidationContext,\n  ShormsSchema,\n  FormStateAPI,\n} from './types'\n\ninterface UseValidationOptions {\n  schema: ShormsSchema\n  formState: FormStateAPI\n}\n\ninterface ValidationCache {\n  result: ValidationResult\n  timestamp: number\n  ttl: number\n}\n\nexport function useValidation(options: UseValidationOptions) {\n  const { schema, formState } = options\n\n  // Cache for validation results\n  const cacheRef = useRef<Map<string, ValidationCache>>(new Map())\n\n  // Debounce timers\n  const debounceTimersRef = useRef<Map<string, NodeJS.Timeout>>(new Map())\n\n  // Pending async validations\n  const pendingRef = useRef<Map<string, Promise<ValidationResult | true | string>>>(new Map())\n\n  // Build a map of fieldId  FormField for quick lookup\n  const fieldMap = useMemo(() => {\n    const map = new Map<string, FormField>()\n    schema.pages.forEach(page => {\n      page.fields.forEach(field => {\n        map.set(field.name, field)\n      })\n    })\n    return map\n  }, [schema])\n\n  // Helper: Check if cached result is still valid\n  const getCachedResult = useCallback((fieldId: string, value: any): ValidationResult | null => {\n    const cached = cacheRef.current.get(`${fieldId}:${JSON.stringify(value)}`)\n    if (!cached) return null\n\n    const now = Date.now()\n    if (now - cached.timestamp > cached.ttl * 1000) {\n      // Cache expired\n      cacheRef.current.delete(`${fieldId}:${JSON.stringify(value)}`)\n      return null\n    }\n\n    return cached.result\n  }, [])\n\n  // Helper: Cache validation result\n  const cacheResult = useCallback((fieldId: string, value: any, result: ValidationResult, ttl: number) => {\n    const cacheKey = `${fieldId}:${JSON.stringify(value)}`\n    cacheRef.current.set(cacheKey, {\n      result,\n      timestamp: Date.now(),\n      ttl,\n    })\n  }, [])\n\n  // Helper: Normalize validation result\n  const normalizeResult = useCallback((result: ValidationResult | true | string): ValidationResult => {\n    if (result === true) {\n      return { valid: true }\n    }\n\n    if (typeof result === 'string') {\n      return {\n        valid: false,\n        message: result,\n        severity: 'error',\n        blocking: true,\n      }\n    }\n\n    return {\n      ...result,\n      severity: result.severity || 'error',\n      blocking: result.blocking !== undefined ? result.blocking : result.severity === 'error',\n    }\n  }, [])\n\n  // Core: Run sync validation\n  const runSyncValidation = useCallback((field: FormField, value: any, allValues: FormValues): ValidationResult => {\n    const validation = field.validation\n    if (!validation) {\n      return { valid: true }\n    }\n\n    // Required check\n    if (field.required && (value === undefined || value === null || value === '')) {\n      return {\n        valid: false,\n        message: `${field.label} is required`,\n        severity: 'error',\n        blocking: true,\n      }\n    }\n\n    // Min/Max length for strings\n    if (typeof value === 'string') {\n      if (validation.minLength !== undefined && value.length < validation.minLength) {\n        return {\n          valid: false,\n          message: `Minimum ${validation.minLength} characters required`,\n          severity: 'error',\n          blocking: true,\n        }\n      }\n      if (validation.maxLength !== undefined && value.length > validation.maxLength) {\n        return {\n          valid: false,\n          message: `Maximum ${validation.maxLength} characters allowed`,\n          severity: 'error',\n          blocking: true,\n        }\n      }\n    }\n\n    // Min/Max value for numbers\n    if (typeof value === 'number') {\n      if (validation.min !== undefined && value < validation.min) {\n        return {\n          valid: false,\n          message: `Minimum value is ${validation.min}`,\n          severity: 'error',\n          blocking: true,\n        }\n      }\n      if (validation.max !== undefined && value > validation.max) {\n        return {\n          valid: false,\n          message: `Maximum value is ${validation.max}`,\n          severity: 'error',\n          blocking: true,\n        }\n      }\n    }\n\n    // Pattern validation\n    if (validation.pattern && typeof value === 'string') {\n      const regex = typeof validation.pattern === 'string'\n        ? new RegExp(validation.pattern)\n        : validation.pattern\n\n      if (!regex.test(value)) {\n        return {\n          valid: false,\n          message: 'Invalid format',\n          severity: 'error',\n          blocking: true,\n        }\n      }\n    }\n\n    // Email validation\n    if (validation.email && typeof value === 'string') {\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n      if (!emailRegex.test(value)) {\n        return {\n          valid: false,\n          message: 'Invalid email address',\n          severity: 'error',\n          blocking: true,\n        }\n      }\n    }\n\n    // URL validation\n    if (validation.url && typeof value === 'string') {\n      try {\n        new URL(value)\n      } catch {\n        return {\n          valid: false,\n          message: 'Invalid URL',\n          severity: 'error',\n          blocking: true,\n        }\n      }\n    }\n\n    // Phone validation (basic)\n    if (validation.phone && typeof value === 'string') {\n      const phoneRegex = /^[\\d\\s\\-\\+\\(\\)]+$/\n      if (!phoneRegex.test(value) || value.replace(/\\D/g, '').length < 10) {\n        return {\n          valid: false,\n          message: 'Invalid phone number',\n          severity: 'error',\n          blocking: true,\n        }\n      }\n    }\n\n    // Custom sync validation\n    if (validation.validate) {\n      const result = validation.validate(value, allValues)\n      return normalizeResult(result)\n    }\n\n    return { valid: true }\n  }, [normalizeResult])\n\n  // Core: Run async validation\n  const runAsyncValidation = useCallback(async (\n    field: FormField,\n    value: any,\n    allValues: FormValues\n  ): Promise<ValidationResult> => {\n    const validation = field.validation\n    if (!validation || !validation.validateAsync) {\n      return { valid: true }\n    }\n\n    const context: ValidationContext = {\n      fieldId: field.name,\n      allValues,\n      schema,\n    }\n\n    // Check cache\n    const cacheEnabled = validation.cacheResults !== false\n    if (cacheEnabled) {\n      const cached = getCachedResult(field.name, value)\n      if (cached) {\n        return cached\n      }\n    }\n\n    // Check if already pending\n    const pendingKey = `${field.name}:${JSON.stringify(value)}`\n    const pending = pendingRef.current.get(pendingKey)\n    if (pending) {\n      const result = await pending\n      return normalizeResult(result)\n    }\n\n    // Run async validation\n    const promise = validation.validateAsync(value, context)\n    pendingRef.current.set(pendingKey, promise)\n\n    try {\n      const result = await promise\n      const normalized = normalizeResult(result)\n\n      // Cache result\n      if (cacheEnabled) {\n        const ttl = validation.cacheTtl || 300\n        cacheResult(field.name, value, normalized, ttl)\n      }\n\n      return normalized\n    } catch (error) {\n      return {\n        valid: false,\n        message: error instanceof Error ? error.message : 'Validation error',\n        severity: 'error',\n        blocking: true,\n      }\n    } finally {\n      pendingRef.current.delete(pendingKey)\n    }\n  }, [schema, getCachedResult, cacheResult, normalizeResult])\n\n  // Core: Validate field\n  const validateField = useCallback(async (fieldId: string): Promise<ValidationResult> => {\n    const field = fieldMap.get(fieldId)\n    if (!field) {\n      return { valid: true }\n    }\n\n    const value = formState.getValue(fieldId)\n    const allValues = formState.values\n\n    // Run sync validation first\n    const syncResult = runSyncValidation(field, value, allValues)\n    if (!syncResult.valid) {\n      return syncResult\n    }\n\n    // Run async validation if present\n    if (field.validation?.validateAsync) {\n      return await runAsyncValidation(field, value, allValues)\n    }\n\n    return { valid: true }\n  }, [fieldMap, formState, runSyncValidation, runAsyncValidation])\n\n  // Core: Validate field with debounce\n  const validateFieldDebounced = useCallback((fieldId: string): Promise<ValidationResult> => {\n    return new Promise((resolve) => {\n      const field = fieldMap.get(fieldId)\n      const debounce = field?.validation?.debounce || 500\n\n      // Clear existing timer\n      const existingTimer = debounceTimersRef.current.get(fieldId)\n      if (existingTimer) {\n        clearTimeout(existingTimer)\n      }\n\n      // Set new timer\n      const timer = setTimeout(async () => {\n        const result = await validateField(fieldId)\n        resolve(result)\n      }, debounce)\n\n      debounceTimersRef.current.set(fieldId, timer)\n    })\n  }, [fieldMap, validateField])\n\n  // Core: Validate dependent fields\n  const validateDependentFields = useCallback(async (fieldId: string) => {\n    // Find fields that depend on this field\n    const dependentFields: string[] = []\n    fieldMap.forEach((field, fid) => {\n      if (field.dependsOn?.includes(fieldId)) {\n        dependentFields.push(fid)\n      }\n    })\n\n    // Validate each dependent field\n    await Promise.all(\n      dependentFields.map(async (fid) => {\n        const result = await validateField(fid)\n        // Update form state with validation result\n        // This would be called by the renderer\n        return result\n      })\n    )\n  }, [fieldMap, validateField])\n\n  // Core: Validate all fields\n  const validateAll = useCallback(async (): Promise<Map<string, ValidationResult>> => {\n    const results = new Map<string, ValidationResult>()\n\n    const promises = Array.from(fieldMap.keys()).map(async (fieldId) => {\n      const result = await validateField(fieldId)\n      results.set(fieldId, result)\n    })\n\n    await Promise.all(promises)\n    return results\n  }, [fieldMap, validateField])\n\n  // Core: Validate page\n  const validatePage = useCallback(async (pageId: string): Promise<Map<string, ValidationResult>> => {\n    const page = schema.pages.find(p => p.id === pageId)\n    if (!page) {\n      return new Map()\n    }\n\n    const results = new Map<string, ValidationResult>()\n\n    const promises = page.fields.map(async (field) => {\n      const result = await validateField(field.name)\n      results.set(field.name, result)\n    })\n\n    await Promise.all(promises)\n    return results\n  }, [schema, validateField])\n\n  // Core: Run cross-field validation\n  const validateCrossField = useCallback(async (): Promise<Map<string, ValidationResult>> => {\n    const results = new Map<string, ValidationResult>()\n\n    if (!schema.validation?.crossField) {\n      return results\n    }\n\n    for (const rule of schema.validation.crossField) {\n      const values: any = {}\n      rule.fields.forEach(fieldId => {\n        values[fieldId] = formState.getValue(fieldId)\n      })\n\n      const result = rule.validate(values)\n      const normalized = normalizeResult(result)\n\n      if (!normalized.valid) {\n        // Apply error to all involved fields\n        rule.fields.forEach(fieldId => {\n          results.set(fieldId, normalized)\n        })\n      }\n    }\n\n    return results\n  }, [schema, formState, normalizeResult])\n\n  // Clear cache for a field (when dependencies change)\n  const clearCacheForField = useCallback((fieldId: string) => {\n    const keysToDelete: string[] = []\n    cacheRef.current.forEach((_, key) => {\n      if (key.startsWith(`${fieldId}:`)) {\n        keysToDelete.push(key)\n      }\n    })\n    keysToDelete.forEach(key => cacheRef.current.delete(key))\n  }, [])\n\n  return {\n    validateField,\n    validateFieldDebounced,\n    validateDependentFields,\n    validateAll,\n    validatePage,\n    validateCrossField,\n    clearCacheForField,\n  }\n}\n","/**\n * Shorms Renderer - Suggestions Hook\n * Handles single field and bulk suggestions with dual value system\n */\n\nimport { useCallback, useRef } from 'react'\nimport type {\n  FormField,\n  FormValues,\n  SuggestionResult,\n  FieldSuggestionState,\n  FormStateAPI,\n  ShormsSchema,\n} from './types'\n\ninterface UseSuggestionsOptions {\n  schema: ShormsSchema\n  formState: FormStateAPI\n  onSuggest?: (fieldId: string, currentValue: any, context: FormValues) => Promise<SuggestionResult>\n}\n\nexport function useSuggestions(options: UseSuggestionsOptions) {\n  const { schema, formState, onSuggest } = options\n\n  // Track pending suggestions\n  const pendingRef = useRef<Map<string, Promise<SuggestionResult>>>(new Map())\n\n  // Build field map for quick lookup\n  const fieldMap = useRef<Map<string, FormField>>(new Map())\n\n  // Initialize field map\n  if (fieldMap.current.size === 0) {\n    schema.pages.forEach(page => {\n      page.fields.forEach(field => {\n        fieldMap.current.set(field.name, field)\n      })\n    })\n  }\n\n  // Helper: Check if suggestion is expired\n  const isSuggestionExpired = useCallback((suggestion: FieldSuggestionState): boolean => {\n    if (!suggestion.expiresAt) return false\n    return Date.now() > suggestion.expiresAt\n  }, [])\n\n  // Helper: Create suggestion state from result\n  const createSuggestionState = useCallback((\n    fieldId: string,\n    result: SuggestionResult,\n    currentUserValue: any\n  ): FieldSuggestionState => {\n    const field = fieldMap.current.get(fieldId)\n    const ttl = field?.suggest?.ttl || 3600 // default 1 hour\n\n    return {\n      userValue: currentUserValue,\n      suggestedValue: result.suggestedValue,\n      originalSuggestedValue: result.suggestedValue,\n      activeValue: 'user', // Default to user value initially\n      suggestedValueModified: false,\n      status: 'available',\n      confidence: result.confidence || 0,\n      reason: result.reason || '',\n      timestamp: Date.now(),\n      expiresAt: Date.now() + (ttl * 1000),\n      source: result.source,\n    }\n  }, [])\n\n  // Core: Request single field suggestion\n  const requestSuggestion = useCallback(async (fieldId: string): Promise<SuggestionResult | null> => {\n    if (!onSuggest) {\n      return null\n    }\n\n    const field = fieldMap.current.get(fieldId)\n    if (!field || !field.suggest) {\n      return null\n    }\n\n    const currentValue = formState.getValue(fieldId)\n    const allValues = formState.values\n\n    // Check if already pending\n    const pending = pendingRef.current.get(fieldId)\n    if (pending) {\n      return await pending\n    }\n\n    // Update state to show loading\n    const currentSuggestion = formState.getSuggestionState(fieldId)\n    if (currentSuggestion) {\n      // Update existing suggestion state\n      const updatedState: FieldSuggestionState = {\n        ...currentSuggestion,\n        status: 'loading',\n      }\n      // This would be set via formState internal API\n    }\n\n    // Request suggestion\n    const promise = onSuggest(fieldId, currentValue, allValues)\n    pendingRef.current.set(fieldId, promise)\n\n    try {\n      const result = await promise\n\n      // Check confidence threshold\n      const minConfidence = field.suggest.minConfidence || 0.7\n      if (result.confidence !== undefined && result.confidence < minConfidence) {\n        return null\n      }\n\n      return result\n    } catch (error) {\n      console.error(`Error getting suggestion for ${fieldId}:`, error)\n      return null\n    } finally {\n      pendingRef.current.delete(fieldId)\n    }\n  }, [onSuggest, formState])\n\n  // Core: Apply suggestion result to form state\n  const applySuggestionResult = useCallback((fieldId: string, result: SuggestionResult) => {\n    const field = fieldMap.current.get(fieldId)\n    if (!field) return\n\n    const currentUserValue = formState.getValue(fieldId)\n    const suggestionState = createSuggestionState(fieldId, result, currentUserValue)\n\n    // This would be updated via formState internal API\n    // For now, this is a placeholder for the actual implementation\n    // The renderer component will handle setting this state\n  }, [formState, createSuggestionState])\n\n  // Core: Check if field should trigger suggestion\n  const shouldTriggerSuggestion = useCallback((fieldId: string, newValue: any): boolean => {\n    const field = fieldMap.current.get(fieldId)\n    if (!field || !field.suggest) {\n      return false\n    }\n\n    const currentSuggestion = formState.getSuggestionState(fieldId)\n\n    // Don't trigger if already loading or expecting\n    if (currentSuggestion?.status === 'loading' || currentSuggestion?.status === 'expecting') {\n      return false\n    }\n\n    // Don't trigger if recently suggested and not expired\n    if (currentSuggestion && !isSuggestionExpired(currentSuggestion)) {\n      return false\n    }\n\n    // Don't trigger if value is empty\n    if (newValue === undefined || newValue === null || newValue === '') {\n      return false\n    }\n\n    return true\n  }, [formState, isSuggestionExpired])\n\n  // Core: Handle field value change (trigger suggestion if needed)\n  const handleFieldChange = useCallback(async (fieldId: string, newValue: any) => {\n    if (!shouldTriggerSuggestion(fieldId, newValue)) {\n      return\n    }\n\n    const result = await requestSuggestion(fieldId)\n    if (result) {\n      applySuggestionResult(fieldId, result)\n    }\n  }, [shouldTriggerSuggestion, requestSuggestion, applySuggestionResult])\n\n  // Core: Handle dependent field suggestions\n  const triggerDependentSuggestions = useCallback(async (fieldId: string) => {\n    // Find fields that depend on this field\n    const dependentFields: string[] = []\n    fieldMap.current.forEach((field, fid) => {\n      if (field.dependsOn?.includes(fieldId) && field.suggest) {\n        dependentFields.push(fid)\n      }\n    })\n\n    // Clear suggestions for dependent fields\n    dependentFields.forEach(fid => {\n      const currentSuggestion = formState.getSuggestionState(fid)\n      if (currentSuggestion) {\n        // Mark as needing refresh\n        // This would be updated via formState internal API\n      }\n    })\n\n    // Trigger new suggestions for dependent fields\n    await Promise.all(\n      dependentFields.map(fid => requestSuggestion(fid))\n    )\n  }, [formState, requestSuggestion])\n\n  // Core: Clear expired suggestions\n  const clearExpiredSuggestions = useCallback(() => {\n    const expired: string[] = []\n\n    fieldMap.current.forEach((_, fieldId) => {\n      const suggestion = formState.getSuggestionState(fieldId)\n      if (suggestion && isSuggestionExpired(suggestion)) {\n        expired.push(fieldId)\n      }\n    })\n\n    expired.forEach(fieldId => {\n      // Clear suggestion via formState internal API\n      // This would be implemented in the renderer component\n    })\n  }, [formState, isSuggestionExpired])\n\n  // Utility: Get fields with active suggestions\n  const getFieldsWithSuggestions = useCallback((): string[] => {\n    const fields: string[] = []\n\n    fieldMap.current.forEach((_, fieldId) => {\n      const suggestion = formState.getSuggestionState(fieldId)\n      if (suggestion && suggestion.status !== 'none' && !isSuggestionExpired(suggestion)) {\n        fields.push(fieldId)\n      }\n    })\n\n    return fields\n  }, [formState, isSuggestionExpired])\n\n  // Utility: Get suggestion statistics\n  const getSuggestionStats = useCallback(() => {\n    let total = 0\n    let available = 0\n    let accepted = 0\n    let dismissed = 0\n    let loading = 0\n\n    fieldMap.current.forEach((_, fieldId) => {\n      const suggestion = formState.getSuggestionState(fieldId)\n      if (suggestion && suggestion.status !== 'none') {\n        total++\n        switch (suggestion.status) {\n          case 'available':\n          case 'reviewing':\n            available++\n            break\n          case 'accepted':\n            accepted++\n            break\n          case 'dismissed':\n            dismissed++\n            break\n          case 'loading':\n          case 'expecting':\n            loading++\n            break\n        }\n      }\n    })\n\n    return { total, available, accepted, dismissed, loading }\n  }, [formState])\n\n  return {\n    requestSuggestion,\n    applySuggestionResult,\n    handleFieldChange,\n    triggerDependentSuggestions,\n    clearExpiredSuggestions,\n    getFieldsWithSuggestions,\n    getSuggestionStats,\n  }\n}\n","/**\n * Shorms Renderer - Background Jobs Hook\n * Handles long-running jobs with progress tracking and cancellation\n */\n\nimport { useCallback, useEffect, useRef, useState } from 'react'\nimport type {\n  BackgroundJob,\n  BulkSuggestResponse,\n  FormStateAPI,\n  ShormsSchema,\n  SuggestionResult,\n  FieldSuggestionState,\n} from './types'\n\ninterface UseBackgroundJobOptions {\n  schema: ShormsSchema\n  formState: FormStateAPI\n  onJobProgress?: (jobId: string) => Promise<BackgroundJob>\n  onJobCancel?: (jobId: string) => Promise<void>\n  onBulkSuggest?: (files: File[], schema: ShormsSchema, currentValues: any) => Promise<BulkSuggestResponse>\n  pollInterval?: number  // milliseconds, default: 2000\n  blocking?: boolean     // block form while processing\n}\n\nexport function useBackgroundJob(options: UseBackgroundJobOptions) {\n  const {\n    schema,\n    formState,\n    onJobProgress,\n    onJobCancel,\n    onBulkSuggest,\n    pollInterval = 2000,\n    blocking = false,\n  } = options\n\n  const [currentJob, setCurrentJob] = useState<BackgroundJob | null>(null)\n  const [isBlocking, setIsBlocking] = useState(false)\n\n  // Refs\n  const pollTimerRef = useRef<NodeJS.Timeout | undefined>(undefined)\n  const processedUpdatesRef = useRef<Set<string>>(new Set())\n\n  // Core: Start bulk suggestion job\n  const startBulkSuggest = useCallback(async (files: File[]): Promise<string | null> => {\n    if (!onBulkSuggest) {\n      return null\n    }\n\n    try {\n      const response = await onBulkSuggest(files, schema, formState.values)\n\n      // Handle immediate results\n      if (response.immediate) {\n        Object.entries(response.immediate.suggestions).forEach(([fieldId, suggestion]) => {\n          // Apply suggestion to form state\n          const currentUserValue = formState.getValue(fieldId)\n          const suggestionState: FieldSuggestionState = {\n            userValue: currentUserValue,\n            suggestedValue: suggestion.suggestedValue,\n            originalSuggestedValue: suggestion.suggestedValue,\n            activeValue: 'user',\n            suggestedValueModified: false,\n            status: 'available',\n            confidence: suggestion.confidence || 0,\n            reason: suggestion.reason || '',\n            timestamp: Date.now(),\n            source: suggestion.source,\n          }\n          // This would be set via formState internal API\n        })\n\n        return null\n      }\n\n      // Handle job-based results\n      if (response.job) {\n        const { jobId, affectedFields, estimatedDuration, estimatedFieldCount } = response.job\n\n        // Mark affected fields as \"expecting\"\n        affectedFields.forEach(fieldId => {\n          const suggestionState: FieldSuggestionState = {\n            userValue: formState.getValue(fieldId),\n            suggestedValue: undefined,\n            originalSuggestedValue: undefined,\n            activeValue: 'user',\n            suggestedValueModified: false,\n            status: 'expecting',\n            confidence: 0,\n            reason: 'Loading...',\n            timestamp: Date.now(),\n          }\n          // This would be set via formState internal API\n        })\n\n        // Initialize job\n        const job: BackgroundJob = {\n          jobId,\n          status: 'queued',\n          progress: 0,\n          partialResults: {},\n          fieldsCompleted: [],\n          fieldsPending: affectedFields,\n          startedAt: Date.now(),\n          estimatedTimeRemaining: estimatedDuration,\n        }\n\n        setCurrentJob(job)\n\n        // Start polling\n        startPolling(jobId)\n\n        // Block form if configured\n        if (blocking) {\n          setIsBlocking(true)\n        }\n\n        return jobId\n      }\n\n      return null\n    } catch (error) {\n      console.error('Error starting bulk suggest:', error)\n      return null\n    }\n  }, [onBulkSuggest, schema, formState, blocking])\n\n  // Core: Poll for job progress\n  const pollJob = useCallback(async (jobId: string) => {\n    if (!onJobProgress) {\n      return\n    }\n\n    try {\n      const job = await onJobProgress(jobId)\n      setCurrentJob(job)\n\n      // Process new updates\n      if (job.newUpdates) {\n        job.newUpdates.forEach(update => {\n          const updateKey = `${jobId}:${update.fieldId}:${update.timestamp}`\n\n          // Skip if already processed\n          if (processedUpdatesRef.current.has(updateKey)) {\n            return\n          }\n\n          // Mark field as loading\n          const suggestionState: FieldSuggestionState = {\n            userValue: formState.getValue(update.fieldId),\n            suggestedValue: update.value,\n            originalSuggestedValue: update.value,\n            activeValue: 'user',\n            suggestedValueModified: false,\n            status: 'available',\n            confidence: update.confidence,\n            reason: '',\n            timestamp: update.timestamp,\n          }\n          // This would be set via formState internal API\n\n          processedUpdatesRef.current.add(updateKey)\n        })\n      }\n\n      // Update field states based on job progress\n      job.fieldsCompleted.forEach(fieldId => {\n        const value = job.partialResults[fieldId]\n        if (value !== undefined) {\n          // Update suggestion state to available\n          const currentSuggestion = formState.getSuggestionState(fieldId)\n          if (currentSuggestion && currentSuggestion.status === 'expecting') {\n            const updatedState: FieldSuggestionState = {\n              ...currentSuggestion,\n              suggestedValue: value,\n              originalSuggestedValue: value,\n              status: 'available',\n            }\n            // This would be set via formState internal API\n          }\n        }\n      })\n\n      // Check if job is complete\n      if (job.status === 'completed' || job.status === 'failed' || job.status === 'cancelled') {\n        stopPolling()\n        setIsBlocking(false)\n\n        // Clear processed updates\n        processedUpdatesRef.current.clear()\n\n        // Mark any remaining expecting fields as available or failed\n        job.fieldsPending.forEach(fieldId => {\n          const currentSuggestion = formState.getSuggestionState(fieldId)\n          if (currentSuggestion && currentSuggestion.status === 'expecting') {\n            const updatedState: FieldSuggestionState = {\n              ...currentSuggestion,\n              status: job.status === 'failed' ? 'none' : 'available',\n              error: job.errors?.[fieldId],\n            }\n            // This would be set via formState internal API\n          }\n        })\n      }\n    } catch (error) {\n      console.error('Error polling job:', error)\n      stopPolling()\n      setIsBlocking(false)\n    }\n  }, [onJobProgress, formState])\n\n  // Core: Start polling\n  const startPolling = useCallback((jobId: string) => {\n    // Clear existing timer\n    if (pollTimerRef.current) {\n      clearInterval(pollTimerRef.current)\n    }\n\n    // Start new polling interval\n    pollTimerRef.current = setInterval(() => {\n      pollJob(jobId)\n    }, pollInterval)\n\n    // Poll immediately\n    pollJob(jobId)\n  }, [pollJob, pollInterval])\n\n  // Core: Stop polling\n  const stopPolling = useCallback(() => {\n    if (pollTimerRef.current) {\n      clearInterval(pollTimerRef.current)\n      pollTimerRef.current = undefined\n    }\n  }, [])\n\n  // Core: Cancel job\n  const cancelJob = useCallback(async (jobId: string) => {\n    if (!onJobCancel) {\n      console.warn('onJobCancel not provided')\n      return\n    }\n\n    try {\n      await onJobCancel(jobId)\n\n      // Update job status\n      setCurrentJob(prev => {\n        if (prev && prev.jobId === jobId) {\n          return {\n            ...prev,\n            status: 'cancelled',\n          }\n        }\n        return prev\n      })\n\n      stopPolling()\n      setIsBlocking(false)\n\n      // Clear all expecting/loading fields\n      if (currentJob) {\n        [...currentJob.fieldsCompleted, ...currentJob.fieldsPending].forEach(fieldId => {\n          const suggestion = formState.getSuggestionState(fieldId)\n          if (suggestion && (suggestion.status === 'expecting' || suggestion.status === 'loading')) {\n            const updatedState: FieldSuggestionState = {\n              ...suggestion,\n              status: 'none',\n            }\n            // This would be set via formState internal API\n          }\n        })\n      }\n    } catch (error) {\n      console.error('Error cancelling job:', error)\n    }\n  }, [onJobCancel, currentJob, formState, stopPolling])\n\n  // Core: Resume job (from saved state)\n  const resumeJob = useCallback(async (jobId: string) => {\n    if (!onJobProgress) {\n      console.warn('onJobProgress not provided, cannot resume job')\n      return\n    }\n\n    try {\n      const job = await onJobProgress(jobId)\n      setCurrentJob(job)\n\n      // If job is still active, start polling\n      if (job.status === 'queued' || job.status === 'processing') {\n        startPolling(jobId)\n\n        if (blocking) {\n          setIsBlocking(true)\n        }\n      }\n    } catch (error) {\n      console.error('Error resuming job:', error)\n    }\n  }, [onJobProgress, startPolling, blocking])\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      stopPolling()\n    }\n  }, [stopPolling])\n\n  // Computed: Job progress info\n  const jobInfo = currentJob ? {\n    jobId: currentJob.jobId,\n    status: currentJob.status,\n    progress: currentJob.progress,\n    fieldsCompleted: currentJob.fieldsCompleted.length,\n    fieldsPending: currentJob.fieldsPending.length,\n    estimatedTimeRemaining: currentJob.estimatedTimeRemaining,\n    isActive: currentJob.status === 'queued' || currentJob.status === 'processing',\n  } : null\n\n  return {\n    currentJob,\n    jobInfo,\n    isBlocking,\n    startBulkSuggest,\n    cancelJob,\n    resumeJob,\n  }\n}\n","/**\n * Shorms Renderer - Main Component\n * Renders forms with validation, suggestions, and state management\n */\n\n'use client'\n\nimport React, { useEffect, useImperativeHandle, useState, useCallback, useRef } from 'react'\nimport type { RendererProps, FormField, FormPage, NavigationProps } from './types'\nimport { useFormState } from './use-form-state'\nimport { useValidation } from './use-validation'\nimport { useSuggestions } from './use-suggestions'\nimport { useBackgroundJob } from './use-background-job'\n\nexport const Renderer = React.forwardRef<any, RendererProps>((props, ref) => {\n  const {\n    schema,\n    onSubmit,\n    formStateRef,\n    features = {},\n    maxHistorySize = 50,\n    onSuggest,\n    onBulkSuggest,\n    onJobProgress,\n    onJobCancel,\n    onSaveDraft,\n    initialValues,\n    initialJobId,\n    onDirtyStateChange,\n    onUndo,\n    onRedo,\n    renderField,\n    renderPage,\n    renderProgress,\n    renderNavigation,\n  } = props\n\n  // Extract feature flags\n  const {\n    stateManagement = true,\n    autoSave,\n    backgroundJobs,\n  } = features\n\n  // State: Current page\n  const [currentPageIndex, setCurrentPageIndex] = useState(0)\n  const currentPage = schema.pages[currentPageIndex]\n\n  // Ref to prevent submission immediately after navigation\n  const justNavigatedRef = useRef(false)\n\n  // Ref for form element to allow external submit\n  const formElementRef = useRef<HTMLFormElement>(null)\n\n  // Initialize form state\n  const formState = useFormState({\n    schema,\n    initialValues,\n    maxHistorySize,\n    onDirtyStateChange,\n  })\n\n  // Initialize validation\n  const validation = useValidation({\n    schema,\n    formState,\n  })\n\n  // Initialize suggestions\n  const suggestions = useSuggestions({\n    schema,\n    formState,\n    onSuggest,\n  })\n\n  // Initialize background jobs\n  const backgroundJob = useBackgroundJob({\n    schema,\n    formState,\n    onJobProgress,\n    onJobCancel,\n    onBulkSuggest,\n    pollInterval: backgroundJobs?.pollInterval || 2000,\n    blocking: backgroundJobs?.blocking || false,\n  })\n\n  // Note: useImperativeHandle moved below after handlers are defined\n\n  // Effect: Auto-save\n  useEffect(() => {\n    if (!autoSave?.enabled || !onSaveDraft) {\n      return\n    }\n\n    const interval = setInterval(() => {\n      if (formState.isDirty) {\n        const changes = formState.getChanges()\n        onSaveDraft(formState.values, changes)\n          .then(() => {\n            formState.markClean()\n          })\n          .catch(error => {\n            console.error('Auto-save failed:', error)\n          })\n      }\n    }, (autoSave.interval || 30) * 1000)\n\n    return () => clearInterval(interval)\n  }, [autoSave, onSaveDraft, formState])\n\n  // Effect: Resume job on mount\n  useEffect(() => {\n    if (initialJobId && backgroundJob.resumeJob) {\n      backgroundJob.resumeJob(initialJobId)\n    }\n  }, [initialJobId, backgroundJob])\n\n  // Effect: Clear expired suggestions periodically\n  useEffect(() => {\n    const interval = setInterval(() => {\n      suggestions.clearExpiredSuggestions()\n    }, 60000) // Check every minute\n\n    return () => clearInterval(interval)\n  }, [suggestions])\n\n  // Handler: Field value change\n  const handleFieldChange = useCallback(async (fieldId: string, value: any, fieldType?: string) => {\n    // Convert value based on field type\n    let convertedValue = value\n    if (fieldType === 'number' && value !== '' && value !== null) {\n      convertedValue = Number(value)\n    }\n\n    // Update value in state\n    formState.setValue(fieldId, convertedValue, 'user')\n\n    // Run validation\n    const validationResult = await validation.validateFieldDebounced(fieldId)\n    // TODO: Update validation state in formState\n\n    // Trigger suggestion if configured\n    await suggestions.handleFieldChange(fieldId, value)\n\n    // Trigger dependent field validations\n    await validation.validateDependentFields(fieldId)\n\n    // Trigger dependent field suggestions\n    await suggestions.triggerDependentSuggestions(fieldId)\n  }, [formState, validation, suggestions])\n\n  // Handler: Page navigation\n  const handleNextPage = useCallback(async () => {\n    // Validate current page\n    const pageValidation = await validation.validatePage(currentPage.id)\n\n    // Check for blocking errors\n    let hasBlockingErrors = false\n    pageValidation.forEach(result => {\n      if (!result.valid && result.blocking) {\n        hasBlockingErrors = true\n      }\n    })\n\n    if (hasBlockingErrors) {\n      return\n    }\n\n    // Navigate to next page\n    if (currentPageIndex < schema.pages.length - 1) {\n      // Set flag to prevent immediate submission when landing on last page\n      justNavigatedRef.current = true\n      setCurrentPageIndex(prev => prev + 1)\n      window.scrollTo(0, 0)\n      // Clear the flag after a short delay\n      setTimeout(() => {\n        justNavigatedRef.current = false\n      }, 100)\n    }\n  }, [currentPageIndex, schema.pages.length, currentPage, validation])\n\n  const handlePrevPage = useCallback(() => {\n    if (currentPageIndex > 0) {\n      setCurrentPageIndex(prev => prev - 1)\n      window.scrollTo(0, 0)\n    }\n  }, [currentPageIndex])\n\n  // Handler: Form submission\n  const handleSubmit = useCallback(async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    // Prevent submission if we just navigated to this page\n    if (justNavigatedRef.current) {\n      return\n    }\n\n    // Only allow submission on the last page\n    if (currentPageIndex < schema.pages.length - 1) {\n      // Don't submit, don't navigate - user must use Next button\n      return\n    }\n\n    // Validate all fields\n    const allValidation = await validation.validateAll()\n\n    // Check for blocking errors\n    let hasBlockingErrors = false\n    allValidation.forEach(result => {\n      if (!result.valid && result.blocking) {\n        hasBlockingErrors = true\n      }\n    })\n\n    if (hasBlockingErrors) {\n      console.warn('Form has validation errors')\n      return\n    }\n\n    // Run cross-field validation\n    const crossFieldValidation = await validation.validateCrossField()\n    if (crossFieldValidation.size > 0) {\n      let hasCrossFieldErrors = false\n      crossFieldValidation.forEach(result => {\n        if (!result.valid && result.blocking) {\n          hasCrossFieldErrors = true\n        }\n      })\n\n      if (hasCrossFieldErrors) {\n        console.warn('Form has cross-field validation errors')\n        return\n      }\n    }\n\n    // Submit form\n    try {\n      await onSubmit(formState.values)\n\n      // Mark as submitted\n      // formState.metadata.submittedAt = Date.now()\n    } catch (error) {\n      console.error('Form submission error:', error)\n    }\n  }, [formState, validation, onSubmit, currentPageIndex, schema.pages.length])\n\n  // Expose form state, navigation, and submit API via ref\n  useImperativeHandle(formStateRef || ref, () => ({\n    ...formState,\n    navigation: {\n      currentPageIndex,\n      totalPages: schema.pages.length,\n      onPrevious: handlePrevPage,\n      onNext: handleNextPage,\n      canGoPrevious: currentPageIndex > 0,\n      canGoNext: currentPageIndex < schema.pages.length - 1,\n      isLastPage: currentPageIndex === schema.pages.length - 1,\n    },\n    submit: () => {\n      formElementRef.current?.requestSubmit()\n    },\n  }), [formState, currentPageIndex, schema.pages.length, handlePrevPage, handleNextPage])\n\n  // Handler: Bulk file upload\n  const handleBulkFileUpload = useCallback(async (files: File[]) => {\n    if (!onBulkSuggest) {\n      return\n    }\n\n    const jobId = await backgroundJob.startBulkSuggest(files)\n    if (jobId) {\n      console.log('Started bulk suggestion job:', jobId)\n    }\n  }, [onBulkSuggest, backgroundJob])\n\n  // Render field (default implementation)\n  const renderFieldDefault = useCallback((field: FormField, value: any) => {\n    return (\n      <div key={field.id} className=\"space-y-2\">\n        <label htmlFor={field.name} className=\"block text-sm font-medium\">\n          {field.label}\n          {field.required && <span className=\"text-red-500 ml-1\">*</span>}\n        </label>\n\n        {field.description && (\n          <p className=\"text-sm text-muted-foreground\">{field.description}</p>\n        )}\n\n        {field.type === 'textarea' ? (\n          <textarea\n            id={field.name}\n            name={field.name}\n            value={value || ''}\n            onChange={(e) => handleFieldChange(field.name, e.target.value, field.type)}\n            className=\"w-full px-3 py-2 border rounded-md\"\n            required={field.required}\n            rows={4}\n          />\n        ) : (\n          <input\n            id={field.name}\n            name={field.name}\n            type={field.type === 'email' ? 'email' : field.type === 'number' ? 'number' : 'text'}\n            value={value || ''}\n            onChange={(e) => handleFieldChange(field.name, e.target.value, field.type)}\n            className=\"w-full px-3 py-2 border rounded-md\"\n            required={field.required}\n          />\n        )}\n\n        {/* Validation error */}\n        {formState.errors[field.name] && (\n          <p className=\"text-sm text-red-500\">{formState.errors[field.name]}</p>\n        )}\n\n        {/* Suggestion indicator */}\n        {formState.getSuggestionState(field.name)?.status === 'available' && (\n          <div className=\"text-sm text-blue-500\">\n             Suggestion available\n          </div>\n        )}\n      </div>\n    )\n  }, [formState, handleFieldChange])\n\n  // Render page (default implementation)\n  const renderPageDefault = useCallback((page: FormPage, children: React.ReactNode) => {\n    return (\n      <div className=\"space-y-6\">\n        {page.title && (\n          <h2 className=\"text-2xl font-bold\">{page.title}</h2>\n        )}\n        {page.description && (\n          <p className=\"text-muted-foreground\">{page.description}</p>\n        )}\n        <div className=\"space-y-4\">\n          {children}\n        </div>\n      </div>\n    )\n  }, [])\n\n  // Render progress (default implementation)\n  const renderProgressDefault = useCallback((current: number, total: number, progress: number) => {\n    return (\n      <div className=\"space-y-2 mb-6\">\n        <div className=\"flex justify-between text-sm text-muted-foreground\">\n          <span>Step {current} of {total}</span>\n          <span>{Math.round(progress)}%</span>\n        </div>\n        <div className=\"h-2 bg-gray-200 rounded-full overflow-hidden\">\n          <div\n            className=\"h-full bg-blue-500 transition-all duration-300\"\n            style={{ width: `${progress}%` }}\n          />\n        </div>\n      </div>\n    )\n  }, [])\n\n  // Check if we should show page\n  const isPageVisible = useCallback((page: FormPage): boolean => {\n    // TODO: Implement conditional page logic based on showIf\n    return true\n  }, [])\n\n  // Render current page fields\n  const renderFields = useCallback(() => {\n    if (!currentPage) {\n      return <div>No page defined</div>\n    }\n\n    return currentPage.fields.map(field => {\n      // Check field conditional logic\n      if (field.showIf) {\n        if (typeof field.showIf === 'function') {\n          if (!field.showIf(formState.values)) {\n            return null\n          }\n        } else {\n          // TODO: Implement conditional logic evaluation\n        }\n      }\n\n      const value = formState.getValue(field.name)\n\n      if (renderField) {\n        return renderField(field, value, (newValue) => handleFieldChange(field.name, newValue))\n      }\n\n      return renderFieldDefault(field, value)\n    })\n  }, [currentPage, formState, renderField, renderFieldDefault, handleFieldChange])\n\n  // Calculate progress\n  const progress = ((currentPageIndex + 1) / schema.pages.length) * 100\n\n  // Main render\n  return (\n    <div className=\"w-full min-h-full flex flex-col\">\n      {/* Progress indicator */}\n      <div className=\"px-6 pt-6\">\n        {renderProgress\n          ? renderProgress(currentPageIndex + 1, schema.pages.length, progress)\n          : renderProgressDefault(currentPageIndex + 1, schema.pages.length, progress)\n        }\n\n        {/* Background job indicator */}\n        {backgroundJob.jobInfo?.isActive && (\n          <div className=\"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-md\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"font-medium\">Analyzing your files...</p>\n                <p className=\"text-sm text-muted-foreground\">\n                  {backgroundJob.jobInfo.fieldsCompleted} of{' '}\n                  {backgroundJob.jobInfo.fieldsCompleted + backgroundJob.jobInfo.fieldsPending} fields completed\n                </p>\n              </div>\n              <div className=\"text-right\">\n                <p className=\"text-sm font-medium\">{Math.round(backgroundJob.jobInfo.progress * 100)}%</p>\n                {backgroundJob.jobInfo.estimatedTimeRemaining && (\n                  <p className=\"text-xs text-muted-foreground\">\n                    ~{Math.round(backgroundJob.jobInfo.estimatedTimeRemaining / 60)}m remaining\n                  </p>\n                )}\n              </div>\n            </div>\n            <div className=\"mt-2\">\n              <button\n                type=\"button\"\n                onClick={() => backgroundJob.jobInfo && backgroundJob.cancelJob(backgroundJob.jobInfo.jobId)}\n                className=\"text-sm text-red-500 hover:text-red-700\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Form */}\n      <form ref={formElementRef} onSubmit={handleSubmit} className=\"flex-1 flex flex-col px-6\">\n        <div className=\"flex-1\">\n          {renderPage\n            ? renderPage(currentPage, renderFields())\n            : renderPageDefault(currentPage, renderFields())\n          }\n        </div>\n\n        {/* Navigation */}\n        {renderNavigation ? (\n          renderNavigation({\n            currentPageIndex,\n            totalPages: schema.pages.length,\n            onPrevious: handlePrevPage,\n            onNext: handleNextPage,\n            canGoPrevious: currentPageIndex > 0,\n            canGoNext: currentPageIndex < schema.pages.length - 1,\n            isLastPage: currentPageIndex === schema.pages.length - 1,\n          })\n        ) : (\n          <div className=\"flex justify-between mt-8 py-4\">\n            <button\n              type=\"button\"\n              onClick={handlePrevPage}\n              disabled={currentPageIndex === 0}\n              className=\"px-4 py-2 border rounded-md disabled:opacity-50\"\n            >\n              Previous\n            </button>\n\n            {currentPageIndex < schema.pages.length - 1 ? (\n              <button\n                type=\"button\"\n                onClick={handleNextPage}\n                className=\"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600\"\n              >\n              Next\n              </button>\n            ) : (\n              <button\n                type=\"submit\"\n                className=\"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600\"\n              >\n                Submit\n              </button>\n            )}\n          </div>\n        )}\n      </form>\n    </div>\n  )\n})\n\nRenderer.displayName = 'Renderer'\n","'use client'\n\n/**\n * Shadcn-styled Renderer Wrapper\n * Uses the core Renderer with shadcn/ui components for styling\n */\n\nimport * as React from 'react'\nimport { Renderer } from './renderer'\nimport type { RendererProps, FormField as ShormsFormField, FormPage, NavigationProps } from './renderer/types'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Textarea } from '@/components/ui/textarea'\nimport { Checkbox } from '@/components/ui/checkbox'\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport { Switch } from '@/components/ui/switch'\nimport { Slider } from '@/components/ui/slider'\nimport { Calendar } from '@/components/ui/calendar'\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover'\nimport { cn } from '@/lib/utils'\nimport { CalendarIcon, ChevronLeft, ChevronRight } from 'lucide-react'\nimport { format } from 'date-fns'\n\ninterface ShadcnRendererProps extends Omit<RendererProps, 'renderField' | 'renderPage' | 'renderProgress'> {\n  className?: string\n  title?: string\n  description?: string\n}\n\nexport function ShadcnRenderer({ className, title, description, ...props }: ShadcnRendererProps) {\n  // State to hold navigation props from Renderer\n  const [navProps, setNavProps] = React.useState<NavigationProps | null>(null)\n  const rendererRef = React.useRef<any>(null)\n  const pendingNavProps = React.useRef<NavigationProps | null>(null)\n\n  // Custom field renderer using shadcn components\n  const renderField = React.useCallback((field: ShormsFormField, value: any, onChange: (value: any) => void) => {\n    return (\n      <div key={field.id} className=\"space-y-2\">\n        <Label htmlFor={field.name}>\n          {field.label}\n          {field.required && <span className=\"text-destructive ml-1\">*</span>}\n        </Label>\n\n        {field.description && (\n          <p className=\"text-sm text-muted-foreground\">{field.description}</p>\n        )}\n\n        {renderFieldInput(field, value, onChange)}\n      </div>\n    )\n  }, [])\n\n  // Render different input types with shadcn components\n  const renderFieldInput = (\n    field: ShormsFormField,\n    value: any,\n    onChange: (value: any) => void\n  ) => {\n    // Extract common properties from config if available\n    const placeholder = (field.config?.placeholder || field.config?.placeholderText) as string | undefined\n    const options = (field.config?.options || []) as Array<{ label: string; value: string }>\n\n    switch (field.type) {\n      case 'text':\n      case 'email':\n      case 'url':\n        return (\n          <Input\n            id={field.name}\n            name={field.name}\n            type={field.type}\n            value={value || ''}\n            onChange={(e) => onChange(e.target.value)}\n            placeholder={placeholder}\n            required={field.required}\n          />\n        )\n\n      case 'number':\n        return (\n          <Input\n            id={field.name}\n            name={field.name}\n            type=\"number\"\n            value={value || ''}\n            onChange={(e) => onChange(e.target.value)}\n            placeholder={placeholder}\n            required={field.required}\n            min={field.validation?.min}\n            max={field.validation?.max}\n          />\n        )\n\n      case 'textarea':\n        return (\n          <Textarea\n            id={field.name}\n            name={field.name}\n            value={value || ''}\n            onChange={(e) => onChange(e.target.value)}\n            placeholder={placeholder}\n            required={field.required}\n            rows={4}\n          />\n        )\n\n      case 'select':\n        return (\n          <Select value={value || ''} onValueChange={onChange}>\n            <SelectTrigger id={field.name}>\n              <SelectValue placeholder={placeholder || 'Select an option'} />\n            </SelectTrigger>\n            <SelectContent>\n              {options?.map((option) => (\n                <SelectItem key={option.value} value={option.value}>\n                  {option.label}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n        )\n\n      case 'radio':\n        return (\n          <RadioGroup value={value || ''} onValueChange={onChange}>\n            {options?.map((option) => (\n              <div key={option.value} className=\"flex items-center space-x-2\">\n                <RadioGroupItem value={option.value} id={`${field.name}-${option.value}`} />\n                <Label htmlFor={`${field.name}-${option.value}`} className=\"font-normal\">\n                  {option.label}\n                </Label>\n              </div>\n            ))}\n          </RadioGroup>\n        )\n\n      case 'checkbox':\n        return (\n          <div className=\"flex items-center space-x-2\">\n            <Checkbox\n              id={field.name}\n              checked={!!value}\n              onCheckedChange={onChange}\n            />\n            <Label htmlFor={field.name} className=\"font-normal\">\n              {placeholder || 'Check this box'}\n            </Label>\n          </div>\n        )\n\n      case 'switch':\n        return (\n          <div className=\"flex items-center space-x-2\">\n            <Switch\n              id={field.name}\n              checked={!!value}\n              onCheckedChange={onChange}\n            />\n            <Label htmlFor={field.name} className=\"font-normal\">\n              {placeholder || 'Toggle'}\n            </Label>\n          </div>\n        )\n\n      case 'slider':\n        return (\n          <div className=\"space-y-2\">\n            <Slider\n              id={field.name}\n              value={[value || field.validation?.min || 0]}\n              onValueChange={(vals) => onChange(vals[0])}\n              min={field.validation?.min || 0}\n              max={field.validation?.max || 100}\n              step={1}\n            />\n            <div className=\"text-sm text-muted-foreground text-center\">\n              {value || field.validation?.min || 0}\n            </div>\n          </div>\n        )\n\n      case 'date':\n        return (\n          <Popover>\n            <PopoverTrigger asChild>\n              <Button\n                variant=\"outline\"\n                className={cn(\n                  'w-full justify-start text-left font-normal',\n                  !value && 'text-muted-foreground'\n                )}\n              >\n                <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                {value ? format(new Date(value), 'PPP') : <span>Pick a date</span>}\n              </Button>\n            </PopoverTrigger>\n            <PopoverContent className=\"w-auto p-0\">\n              <Calendar\n                mode=\"single\"\n                selected={value ? new Date(value) : undefined}\n                onSelect={(date) => onChange(date?.toISOString())}\n                initialFocus\n              />\n            </PopoverContent>\n          </Popover>\n        )\n\n      case 'file':\n        return (\n          <Input\n            id={field.name}\n            name={field.name}\n            type=\"file\"\n            onChange={(e) => {\n              const file = e.target.files?.[0]\n              onChange(file)\n            }}\n            required={field.required}\n          />\n        )\n\n      default:\n        return (\n          <Input\n            id={field.name}\n            name={field.name}\n            type=\"text\"\n            value={value || ''}\n            onChange={(e) => onChange(e.target.value)}\n            placeholder={placeholder}\n            required={field.required}\n          />\n        )\n    }\n  }\n\n  // Custom page renderer\n  const renderPage = React.useCallback((page: FormPage, children: React.ReactNode) => {\n    if (!page) {\n      return <div className=\"space-y-4\">{children}</div>\n    }\n    return (\n      <div className=\"space-y-6\">\n        {page.title && (\n          <div className=\"space-y-1\">\n            <h2 className=\"text-2xl font-semibold tracking-tight\">{page.title}</h2>\n            {page.description && (\n              <p className=\"text-sm text-muted-foreground\">{page.description}</p>\n            )}\n          </div>\n        )}\n        <div className=\"space-y-4\">\n          {children}\n        </div>\n      </div>\n    )\n  }, [])\n\n  // Progress is now in the toolbar, return null here\n  const renderProgress = React.useCallback(() => null, [])\n\n  // Capture navigation props from Renderer, render nothing inside\n  const renderNavigation = React.useCallback((props: NavigationProps) => {\n    // Store in ref during render, will be synced to state via useLayoutEffect\n    pendingNavProps.current = props\n    return null // Don't render anything inside Renderer\n  }, [])\n\n  // Sync navigation props from ref to state after render (only when changed)\n  React.useLayoutEffect(() => {\n    const pending = pendingNavProps.current\n    if (pending && (\n      !navProps ||\n      pending.currentPageIndex !== navProps.currentPageIndex ||\n      pending.totalPages !== navProps.totalPages ||\n      pending.isLastPage !== navProps.isLastPage\n    )) {\n      setNavProps(pending)\n    }\n  })\n\n  // Handle submit from external toolbar\n  const handleToolbarSubmit = React.useCallback(() => {\n    rendererRef.current?.submit()\n  }, [])\n\n  // Calculate progress for toolbar\n  const progress = navProps\n    ? (navProps.currentPageIndex / Math.max(navProps.totalPages - 1, 1)) * 100\n    : 0\n\n  return (\n    <div className={cn('w-full h-full flex flex-col', className)}>\n      {/* Navbar - fixed at top, edge to edge */}\n      {(title || description) && (\n        <div className=\"shrink-0 px-6 py-4 border-b bg-background\">\n          {title && <h2 className=\"text-lg font-semibold tracking-tight\">{title}</h2>}\n          {description && <p className=\"text-sm text-muted-foreground\">{description}</p>}\n        </div>\n      )}\n\n      {/* Scrollable content area */}\n      <div className=\"flex-1 overflow-auto\">\n        <Renderer\n          {...props}\n          ref={rendererRef}\n          renderField={renderField}\n          renderPage={renderPage}\n          renderProgress={renderProgress}\n          renderNavigation={renderNavigation}\n        />\n      </div>\n\n      {/* Fixed toolbar at bottom */}\n      {navProps && (\n        <div className=\"shrink-0 px-6 py-4 border-t bg-background\">\n          <div className=\"flex items-center gap-4\">\n            {/* Left: Previous button */}\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={navProps.onPrevious}\n              disabled={!navProps.canGoPrevious}\n              className={`w-32 ${!navProps.canGoPrevious ? 'invisible' : ''}`}\n            >\n              <ChevronLeft className=\"mr-2 h-4 w-4\" />\n              Previous\n            </Button>\n\n            {/* Center: Progress bar */}\n            <div className=\"flex-1 h-2 bg-secondary rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-primary transition-all duration-300\"\n                style={{ width: `${progress}%` }}\n              />\n            </div>\n\n            {/* Right: Next/Submit button */}\n            {navProps.isLastPage ? (\n              <Button type=\"button\" onClick={handleToolbarSubmit} className=\"w-32\">\n                Submit\n                <ChevronRight className=\"ml-2 h-4 w-4\" />\n              </Button>\n            ) : (\n              <Button type=\"button\" onClick={navProps.onNext} className=\"w-32\">\n                Next\n                <ChevronRight className=\"ml-2 h-4 w-4\" />\n              </Button>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n","/**\n * ShadcnViewer Component\n * High-level wrapper with same shell structure as ShadcnRenderer\n */\n\n'use client'\n\nimport * as React from 'react'\nimport type { FormPage } from '@/types/form-store'\nimport { Button } from '@/components/ui/button'\nimport { Label } from '@/components/ui/label'\nimport { cn } from '@/lib/utils'\nimport { ChevronLeft, ChevronRight } from 'lucide-react'\n\nexport interface ShadcnViewerProps {\n  pages: FormPage[]\n  submissionData?: Record<string, any>\n  mode?: 'detailed' | 'compact'\n  showValidation?: boolean\n  showFieldTypes?: boolean\n  showPageNavigation?: boolean\n  showMetadata?: boolean\n  className?: string\n  title?: string\n  description?: string\n}\n\nexport function ShadcnViewer({\n  pages,\n  submissionData,\n  mode = 'detailed',\n  showValidation = true,\n  showFieldTypes = true,\n  showPageNavigation = true,\n  showMetadata = false,\n  className,\n  title,\n  description,\n}: ShadcnViewerProps) {\n  const [currentPageIndex, setCurrentPageIndex] = React.useState(0)\n  const currentPage = pages[currentPageIndex]\n  const totalPages = pages.length\n\n  const canGoPrevious = currentPageIndex > 0\n  const canGoNext = currentPageIndex < totalPages - 1\n  const isLastPage = currentPageIndex === totalPages - 1\n\n  const handlePrevious = () => {\n    if (canGoPrevious) {\n      setCurrentPageIndex(prev => prev - 1)\n    }\n  }\n\n  const handleNext = () => {\n    if (canGoNext) {\n      setCurrentPageIndex(prev => prev + 1)\n    }\n  }\n\n  // Calculate progress\n  const progress = totalPages > 1\n    ? (currentPageIndex / (totalPages - 1)) * 100\n    : 100\n\n  return (\n    <div className={cn('w-full h-full flex flex-col', className)}>\n      {/* Navbar - fixed at top */}\n      {(title || description) && (\n        <div className=\"shrink-0 px-6 py-4 border-b bg-background\">\n          {title && <h2 className=\"text-lg font-semibold tracking-tight\">{title}</h2>}\n          {description && <p className=\"text-sm text-muted-foreground\">{description}</p>}\n        </div>\n      )}\n\n      {/* Scrollable content area */}\n      <div className=\"flex-1 overflow-auto\">\n        <div className=\"p-6\">\n          {/* Page title */}\n          {currentPage && (\n            <div className=\"space-y-6\">\n              {mode === 'detailed' && (\n                <div className=\"space-y-1\">\n                  <h2 className=\"text-2xl font-semibold tracking-tight\">\n                    {currentPage.title || `Page ${currentPageIndex + 1}`}\n                  </h2>\n                </div>\n              )}\n\n              {/* Fields */}\n              {currentPage.fields.length === 0 ? (\n                <div className=\"text-center py-12 text-muted-foreground\">\n                  No fields in this page\n                </div>\n              ) : (\n                <div className=\"space-y-4\">\n                  {currentPage.fields.map((field) => (\n                    <FieldView\n                      key={field.id}\n                      field={field}\n                      value={submissionData?.[field.name]}\n                      showType={showFieldTypes}\n                      showValidation={showValidation}\n                    />\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Fixed toolbar at bottom */}\n      <div className=\"shrink-0 px-6 py-4 border-t bg-background\">\n        <div className=\"flex items-center gap-4\">\n          {/* Left: Previous button */}\n          <Button\n            type=\"button\"\n            variant=\"outline\"\n            onClick={handlePrevious}\n            disabled={!canGoPrevious}\n            className={`w-32 ${!canGoPrevious ? 'invisible' : ''}`}\n          >\n            <ChevronLeft className=\"mr-2 h-4 w-4\" />\n            Previous\n          </Button>\n\n          {/* Center: Progress bar */}\n          <div className=\"flex-1 h-2 bg-secondary rounded-full overflow-hidden\">\n            <div\n              className=\"h-full bg-primary transition-all duration-300\"\n              style={{ width: `${progress}%` }}\n            />\n          </div>\n\n          {/* Right: Next button */}\n          <Button\n            type=\"button\"\n            onClick={handleNext}\n            disabled={isLastPage}\n            className={`w-32 ${isLastPage ? 'invisible' : ''}`}\n          >\n            Next\n            <ChevronRight className=\"ml-2 h-4 w-4\" />\n          </Button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// Field display component with shadcn styling\nfunction FieldView({\n  field,\n  value,\n  showType,\n  showValidation,\n}: {\n  field: any\n  value?: any\n  showType: boolean\n  showValidation: boolean\n}) {\n  const displayValue = value !== undefined && value !== null && value !== ''\n    ? String(value)\n    : ''\n\n  return (\n    <div className=\"space-y-2 p-4 rounded-lg border bg-card\">\n      <div className=\"flex items-start justify-between gap-2\">\n        <Label className=\"text-sm font-medium\">\n          {field.label}\n          {field.required && <span className=\"text-destructive ml-1\">*</span>}\n        </Label>\n        {showType && (\n          <span className=\"text-xs px-2 py-0.5 rounded-md bg-secondary text-secondary-foreground\">\n            {field.type}\n          </span>\n        )}\n      </div>\n\n      {field.description && (\n        <p className=\"text-xs text-muted-foreground\">{field.description}</p>\n      )}\n\n      <div className=\"text-sm text-foreground\">\n        {displayValue}\n      </div>\n\n      {showValidation && field.validation && (\n        <div className=\"text-xs text-muted-foreground\">\n          {field.validation.min !== undefined && <span>Min: {field.validation.min} </span>}\n          {field.validation.max !== undefined && <span>Max: {field.validation.max} </span>}\n          {field.validation.pattern && <span>Pattern: {field.validation.pattern}</span>}\n        </div>\n      )}\n    </div>\n  )\n}\n","/**\n * Viewer Utility Functions\n */\n\nimport type { FormPage } from '@/types/form-store'\nimport type { FormField } from '@/types/field'\nimport type { FormStatistics } from './types'\nimport { FieldType } from '@/types/field'\n\n// Validation type from the field\ntype FieldValidation = NonNullable<FormField['validation']>\n\n/**\n * Format a field value for display based on field type\n */\nexport function formatFieldValue(field: FormField, value: any): string {\n  if (value === null || value === undefined || value === '') {\n    return '(No value provided)'\n  }\n\n  switch (field.type) {\n    case FieldType.CHECKBOX:\n    case FieldType.SWITCH:\n      return value ? ' Yes' : ' No'\n\n    case FieldType.DATE:\n      try {\n        return new Date(value).toLocaleDateString()\n      } catch {\n        return String(value)\n      }\n\n    case FieldType.FILE_UPLOAD:\n      if (typeof value === 'object' && value.name) {\n        const size = value.size ? ` (${formatFileSize(value.size)})` : ''\n        return `${value.name}${size}`\n      }\n      return String(value)\n\n    case FieldType.SELECT:\n    case FieldType.RADIO_GROUP:\n    case FieldType.COMBOBOX:\n      // Try to find the label from options or choices\n      const choices = (field as any).choices || (field as any).options\n      if (choices && Array.isArray(choices)) {\n        const option = choices.find((opt: any) => opt.value === value)\n        if (option) {\n          return option.label\n        }\n      }\n      return String(value)\n\n    case FieldType.SLIDER:\n    case FieldType.NUMBER_INPUT:\n      return typeof value === 'number' ? value.toLocaleString() : String(value)\n\n    case FieldType.INPUT:\n    case FieldType.TEXTAREA:\n    case FieldType.EMAIL:\n    default:\n      return String(value)\n  }\n}\n\n/**\n * Format file size in human-readable format\n */\nfunction formatFileSize(bytes: number): string {\n  if (bytes === 0) return '0 Bytes'\n\n  const k = 1024\n  const sizes = ['Bytes', 'KB', 'MB', 'GB']\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n\n  return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i]\n}\n\n/**\n * Get validation rules as human-readable strings\n */\nexport function getValidationSummary(validation?: FieldValidation): string[] {\n  if (!validation) return []\n\n  const rules: string[] = []\n\n  if (validation.required) {\n    rules.push('Required')\n  }\n\n  if (validation.min !== undefined) {\n    rules.push(`Min: ${validation.min}`)\n  }\n\n  if (validation.max !== undefined) {\n    rules.push(`Max: ${validation.max}`)\n  }\n\n  if (validation.regex) {\n    rules.push(`Pattern: ${validation.regex}`)\n  }\n\n  if (validation.maxFileSize) {\n    rules.push(`Max file size: ${validation.maxFileSize}MB`)\n  }\n\n  if (validation.errorMessage) {\n    rules.push(`Error: ${validation.errorMessage}`)\n  }\n\n  return rules\n}\n\n/**\n * Get form statistics\n */\nexport function getFormStatistics(pages: FormPage[]): FormStatistics {\n  const stats: FormStatistics = {\n    totalPages: pages.length,\n    totalFields: 0,\n    requiredFields: 0,\n    fieldTypes: {}\n  }\n\n  pages.forEach((page) => {\n    page.fields.forEach((field) => {\n      stats.totalFields++\n\n      if (field.validation?.required) {\n        stats.requiredFields++\n      }\n\n      const fieldType = field.type\n      stats.fieldTypes[fieldType] = (stats.fieldTypes[fieldType] || 0) + 1\n    })\n  })\n\n  return stats\n}\n\n/**\n * Get field type display name\n */\nexport function getFieldTypeLabel(fieldType: string): string {\n  const labels: Record<string, string> = {\n    [FieldType.INPUT]: 'Text Input',\n    [FieldType.TEXTAREA]: 'Textarea',\n    [FieldType.EMAIL]: 'Email',\n    [FieldType.NUMBER_INPUT]: 'Number',\n    [FieldType.CHECKBOX]: 'Checkbox',\n    [FieldType.SELECT]: 'Select',\n    [FieldType.RADIO_GROUP]: 'Radio Group',\n    [FieldType.SLIDER]: 'Slider',\n    [FieldType.DATE]: 'Date',\n    [FieldType.SWITCH]: 'Switch',\n    [FieldType.FILE_UPLOAD]: 'File Upload',\n    [FieldType.COMBOBOX]: 'Combobox',\n  }\n\n  return labels[fieldType] || fieldType\n}\n\n/**\n * Format date for display\n */\nexport function formatDate(dateString?: string): string {\n  if (!dateString) return 'N/A'\n\n  try {\n    return new Date(dateString).toLocaleString()\n  } catch {\n    return dateString\n  }\n}\n\n/**\n * Get width class for width prop\n */\nexport function getWidthClass(width?: 'sm' | 'md' | 'lg' | 'xl' | 'full'): string {\n  const widthMap = {\n    sm: 'max-w-2xl',\n    md: 'max-w-4xl',\n    lg: 'max-w-6xl',\n    xl: 'max-w-7xl',\n    full: 'w-full'\n  }\n\n  return widthMap[width || 'lg']\n}\n","/**\n * Field Display Component\n * Displays individual form field with validation and optional submission value\n */\n\nimport React from 'react'\nimport type { FormField } from '@/types/field'\nimport type { ViewMode } from './types'\nimport {\n  formatFieldValue,\n  getValidationSummary,\n  getFieldTypeLabel,\n} from './utils'\n\ninterface FieldDisplayProps {\n  field: FormField\n  value?: any\n  mode: ViewMode\n  showValidation: boolean\n  showFieldType: boolean\n}\n\nexport function FieldDisplay({\n  field,\n  value,\n  mode,\n  showValidation,\n  showFieldType,\n}: FieldDisplayProps) {\n  const validationRules = getValidationSummary(field.validation)\n  const hasValue = value !== undefined && value !== null && value !== ''\n\n  if (mode === 'summary') {\n    // Summary mode: minimal display\n    return (\n      <div className=\"py-1 text-sm\">\n        <span className=\"font-medium\">{field.label}</span>\n        {field.validation?.required && <span className=\"text-red-500 ml-1\">*</span>}\n      </div>\n    )\n  }\n\n  if (mode === 'compact') {\n    // Compact mode: single line with key info\n    return (\n      <div className=\"py-2 border-b border-gray-200 last:border-b-0\">\n        <div className=\"flex items-start justify-between gap-4\">\n          <div className=\"flex-1\">\n            <div className=\"flex items-center gap-2 mb-1\">\n              <span className=\"font-medium\">{field.label}</span>\n              {field.validation?.required && (\n                <span className=\"text-red-500 text-xs\">*</span>\n              )}\n              {showFieldType && (\n                <span className=\"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs rounded\">\n                  {getFieldTypeLabel(field.type)}\n                </span>\n              )}\n            </div>\n            {showValidation && validationRules.length > 0 && (\n              <div className=\"text-xs text-gray-600\">\n                {validationRules.join('  ')}\n              </div>\n            )}\n          </div>\n          {hasValue && (\n            <div className=\"text-sm font-mono bg-blue-50 px-3 py-1 rounded border border-blue-200\">\n              {formatFieldValue(field, value)}\n            </div>\n          )}\n        </div>\n      </div>\n    )\n  }\n\n  // Detailed mode: full information\n  return (\n    <div className=\"p-4 border border-gray-200 rounded-lg mb-4 bg-white\">\n      {/* Field header */}\n      <div className=\"flex items-start justify-between mb-3\">\n        <div className=\"flex-1\">\n          <h4 className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\n            {field.label}\n            {field.validation?.required && (\n              <span className=\"text-red-500\">*</span>\n            )}\n          </h4>\n          {field.description && (\n            <p className=\"text-sm text-gray-600 mt-1\">{field.description}</p>\n          )}\n        </div>\n        {showFieldType && (\n          <span className=\"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded\">\n            {getFieldTypeLabel(field.type)}\n          </span>\n        )}\n      </div>\n\n      {/* Field details */}\n      <div className=\"space-y-2 text-sm\">\n        {field.placeholder && (\n          <div className=\"text-gray-600\">\n            <span className=\"font-medium\">Placeholder:</span> {field.placeholder}\n          </div>\n        )}\n\n        {/* Validation rules */}\n        {showValidation && validationRules.length > 0 && (\n          <div>\n            <span className=\"font-medium text-gray-700\">Validation:</span>\n            <ul className=\"list-disc list-inside ml-2 mt-1 text-gray-600\">\n              {validationRules.map((rule, idx) => (\n                <li key={idx}>{rule}</li>\n              ))}\n            </ul>\n          </div>\n        )}\n\n        {/* Options for select/radio fields */}\n        {(() => {\n          const choices = (field as any).choices || (field as any).options\n          if (choices && choices.length > 0) {\n            return (\n              <div>\n                <span className=\"font-medium text-gray-700\">Options:</span>\n                <ul className=\"list-disc list-inside ml-2 mt-1 text-gray-600\">\n                  {choices.map((option: any, idx: number) => (\n                    <li key={idx}>\n                      {option.label} ({option.value})\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            )\n          }\n          return null\n        })()}\n\n        {/* Submitted value */}\n        {hasValue && (\n          <div className=\"mt-3 pt-3 border-t border-gray-200\">\n            <span className=\"font-medium text-gray-700\">Submitted Value:</span>\n            <div className=\"mt-2 p-3 bg-blue-50 border border-blue-200 rounded font-mono text-blue-900\">\n              {formatFieldValue(field, value)}\n            </div>\n          </div>\n        )}\n\n        {!hasValue && value !== undefined && (\n          <div className=\"mt-3 pt-3 border-t border-gray-200\">\n            <span className=\"font-medium text-gray-500\">\n              No value submitted\n            </span>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n","/**\n * Viewer Component\n * Read-only display for form schemas and submissions\n */\n\n'use client'\n\nimport React, { useState } from 'react'\nimport type { ViewerProps, ViewMode } from './types'\nimport { FieldDisplay } from './field-display'\nimport {\n  getFormStatistics,\n  formatDate,\n  getWidthClass,\n  getFieldTypeLabel,\n} from './utils'\n\nexport function Viewer({\n  pages,\n  submissionData,\n  mode = 'detailed',\n  showValidation = true,\n  showFieldTypes = true,\n  showPageNavigation = true,\n  showMetadata = true,\n  metadata,\n  className = '',\n  width = 'lg',\n  onPrevious,\n  onNext,\n  onSubmit,\n  showToolbar = true,\n}: ViewerProps) {\n  const [activePage, setActivePage] = useState(0)\n  const stats = getFormStatistics(pages)\n\n  // Summary mode: show statistics only\n  if (mode === 'summary') {\n    return (\n      <div className={`${getWidthClass(width)} mx-auto ${className}`}>\n        <div className=\"bg-white rounded-lg shadow-lg border border-gray-200 p-6\">\n          {/* Metadata */}\n          {showMetadata && metadata?.title && (\n            <div className=\"mb-6 pb-6 border-b border-gray-200\">\n              <h2 className=\"text-2xl font-bold text-gray-900\">\n                {metadata.title}\n              </h2>\n              {metadata.description && (\n                <p className=\"text-gray-600 mt-2\">{metadata.description}</p>\n              )}\n            </div>\n          )}\n\n          {/* Statistics */}\n          <div className=\"space-y-4\">\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n                Form Statistics\n              </h3>\n              <dl className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <dt className=\"text-sm text-gray-600\">Pages</dt>\n                  <dd className=\"text-2xl font-bold text-gray-900\">\n                    {stats.totalPages}\n                  </dd>\n                </div>\n                <div>\n                  <dt className=\"text-sm text-gray-600\">Total Fields</dt>\n                  <dd className=\"text-2xl font-bold text-gray-900\">\n                    {stats.totalFields}\n                  </dd>\n                </div>\n                <div>\n                  <dt className=\"text-sm text-gray-600\">Required Fields</dt>\n                  <dd className=\"text-2xl font-bold text-red-600\">\n                    {stats.requiredFields}\n                  </dd>\n                </div>\n                <div>\n                  <dt className=\"text-sm text-gray-600\">Optional Fields</dt>\n                  <dd className=\"text-2xl font-bold text-gray-900\">\n                    {stats.totalFields - stats.requiredFields}\n                  </dd>\n                </div>\n              </dl>\n            </div>\n\n            {/* Field types breakdown */}\n            {Object.keys(stats.fieldTypes).length > 0 && (\n              <div>\n                <h4 className=\"text-md font-semibold text-gray-900 mb-2\">\n                  Field Types\n                </h4>\n                <ul className=\"space-y-1\">\n                  {Object.entries(stats.fieldTypes).map(([type, count]) => (\n                    <li key={type} className=\"flex justify-between text-sm\">\n                      <span className=\"text-gray-700\">\n                        {getFieldTypeLabel(type)}\n                      </span>\n                      <span className=\"font-medium text-gray-900\">{count}</span>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            )}\n\n            {/* Metadata dates */}\n            {showMetadata && (\n              <div className=\"pt-4 border-t border-gray-200\">\n                <h4 className=\"text-md font-semibold text-gray-900 mb-2\">\n                  Information\n                </h4>\n                <dl className=\"space-y-1 text-sm\">\n                  {metadata?.createdAt && (\n                    <div className=\"flex justify-between\">\n                      <dt className=\"text-gray-600\">Created</dt>\n                      <dd className=\"text-gray-900\">\n                        {formatDate(metadata.createdAt)}\n                      </dd>\n                    </div>\n                  )}\n                  {metadata?.updatedAt && (\n                    <div className=\"flex justify-between\">\n                      <dt className=\"text-gray-600\">Last Updated</dt>\n                      <dd className=\"text-gray-900\">\n                        {formatDate(metadata.updatedAt)}\n                      </dd>\n                    </div>\n                  )}\n                  {metadata?.submittedAt && (\n                    <div className=\"flex justify-between\">\n                      <dt className=\"text-gray-600\">Submitted</dt>\n                      <dd className=\"text-gray-900\">\n                        {formatDate(metadata.submittedAt)}\n                      </dd>\n                    </div>\n                  )}\n                  {metadata?.submittedBy && (\n                    <div className=\"flex justify-between\">\n                      <dt className=\"text-gray-600\">Submitted By</dt>\n                      <dd className=\"text-gray-900\">{metadata.submittedBy}</dd>\n                    </div>\n                  )}\n                </dl>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  // Detailed or Compact mode\n  const currentPage = pages[activePage]\n  const shouldShowPageNav = showPageNavigation && pages.length > 1\n\n  return (\n    <div className={`${getWidthClass(width)} mx-auto ${className}`}>\n      <div className=\"bg-white rounded-lg shadow-lg border border-gray-200\">\n        {/* Header with metadata */}\n        {showMetadata && metadata && (\n          <div className=\"p-6 border-b border-gray-200\">\n            {metadata.title && (\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n                {metadata.title}\n              </h2>\n            )}\n            {metadata.description && (\n              <p className=\"text-gray-600 mb-4\">{metadata.description}</p>\n            )}\n            <div className=\"flex flex-wrap gap-4 text-sm text-gray-600\">\n              {metadata.createdAt && (\n                <div>\n                  <span className=\"font-medium\">Created:</span>{' '}\n                  {formatDate(metadata.createdAt)}\n                </div>\n              )}\n              {metadata.submittedAt && (\n                <div>\n                  <span className=\"font-medium\">Submitted:</span>{' '}\n                  {formatDate(metadata.submittedAt)}\n                </div>\n              )}\n              {metadata.submittedBy && (\n                <div>\n                  <span className=\"font-medium\">By:</span> {metadata.submittedBy}\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* Page navigation */}\n        {shouldShowPageNav && (\n          <div className=\"px-6 pt-6\">\n            <div className=\"flex gap-2 overflow-x-auto pb-2\">\n              {pages.map((page, index) => (\n                <button\n                  key={page.id}\n                  onClick={() => setActivePage(index)}\n                  className={`px-4 py-2 rounded-lg font-medium text-sm whitespace-nowrap transition-colors ${\n                    index === activePage\n                      ? 'bg-blue-600 text-white'\n                      : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                  }`}\n                >\n                  {page.title || `Page ${index + 1}`}\n                  <span className=\"ml-2 text-xs opacity-75\">\n                    ({page.fields.length} fields)\n                  </span>\n                </button>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Page content */}\n        <div className=\"p-6\">\n          {currentPage && (\n            <>\n              {/* Page title for detailed mode */}\n              {mode === 'detailed' && (\n                <h3 className=\"text-xl font-semibold text-gray-900 mb-4\">\n                  {currentPage.title || `Page ${activePage + 1}`}\n                </h3>\n              )}\n\n              {/* Fields */}\n              {currentPage.fields.length === 0 ? (\n                <div className=\"text-center py-12 text-gray-500\">\n                  No fields in this page\n                </div>\n              ) : (\n                <div>\n                  {currentPage.fields.map((field) => (\n                    <FieldDisplay\n                      key={field.id}\n                      field={field}\n                      value={submissionData?.[field.name]}\n                      mode={mode}\n                      showValidation={showValidation}\n                      showFieldType={showFieldTypes}\n                    />\n                  ))}\n                </div>\n              )}\n            </>\n          )}\n        </div>\n\n        {/* Footer with stats */}\n        <div className=\"px-6 py-3 bg-gray-50 border-t border-gray-200 text-sm text-gray-600\">\n          <div className=\"flex justify-between\">\n            <div>\n              {stats.totalPages} page{stats.totalPages !== 1 ? 's' : ''} {' '}\n              {stats.totalFields} field{stats.totalFields !== 1 ? 's' : ''} {' '}\n              {stats.requiredFields} required\n            </div>\n            {shouldShowPageNav && (\n              <div>\n                Page {activePage + 1} of {pages.length}\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Bottom Toolbar */}\n        {showToolbar && (\n          <div className=\"px-6 py-4 bg-white border-t border-gray-200 rounded-b-lg\">\n            <div className=\"flex justify-between items-center\">\n              <button\n                onClick={() => {\n                  if (onPrevious) {\n                    onPrevious()\n                  } else if (activePage > 0) {\n                    setActivePage(activePage - 1)\n                  }\n                }}\n                disabled={activePage === 0}\n                className={`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${\n                  activePage === 0\n                    ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\n                    : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n                }`}\n              >\n                Previous\n              </button>\n\n              <button\n                onClick={() => {\n                  const isLastPage = activePage === pages.length - 1\n                  if (isLastPage) {\n                    onSubmit?.()\n                  } else if (onNext) {\n                    onNext()\n                  } else {\n                    setActivePage(activePage + 1)\n                  }\n                }}\n                className=\"px-6 py-2 rounded-lg font-medium text-sm bg-blue-600 text-white hover:bg-blue-700 transition-colors\"\n              >\n                {activePage === pages.length - 1 ? 'Submit' : 'Next'}\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n","/**\n * Shorms - Local-first multi-page form builder\n *\n * This library provides type-safe form schema management with versioning,\n * validation, and rendering capabilities for React applications.\n *\n * @packageDocumentation\n */\n\n// ============================================================================\n// Type Definitions\n// ============================================================================\n\nexport { FieldType } from './types/field'\nexport type { FormField } from './types/field'\nexport type { FormState, FormPage } from './types/form-store'\n\n// ============================================================================\n// Schema Versioning\n// ============================================================================\n\nexport {\n  SCHEMA_VERSION,\n  SUPPORTED_VERSIONS,\n  SUPPORTED_FIELD_TYPES,\n  validateSchema,\n  isSupportedFieldType,\n  getUnsupportedFields,\n  migrateSchema,\n  ensureVersion,\n  type ValidationResult\n} from './lib/versioning'\n\n// ============================================================================\n// Schema Generation\n// ============================================================================\n\nexport {\n  generateZodSchema,\n  generateDefaultValues,\n  getZodSchemaString\n} from './lib/form-schema'\n\n// ============================================================================\n// Schema Adapters\n// ============================================================================\n\nexport {\n  formPagesToSchema,\n  schemaToFormPages,\n} from './lib/schema-adapter'\n\n// ============================================================================\n// Main Components (shadcn/ui styled - default)\n// ============================================================================\n\n/**\n * Builder - Form builder with shadcn/ui styling\n * Renderer - Form renderer with shadcn/ui styling\n * Viewer - Form viewer with shadcn/ui styling\n */\nexport { ShadcnBuilder as Builder } from './components/shorms/shadcn-builder'\nexport { ShadcnRenderer as Renderer } from './components/shorms/shadcn-renderer'\nexport { ShadcnViewer as Viewer } from './components/shorms/shadcn-viewer'\n\n// ============================================================================\n// Builder Utilities\n// ============================================================================\n\nexport {\n  useBuilderState,\n  defaultFieldTemplates,\n  fieldCategories,\n  widthClasses,\n  FieldLibrary,\n  FormContext,\n  PageTabs,\n} from './components/shorms/builder'\n\nexport type {\n  BuilderProps,\n  BuilderState,\n  FieldLibraryProps,\n  FieldTemplate,\n  FormContextProps,\n  FormPage as BuilderFormPage,\n  PageTabsProps,\n} from './components/shorms/builder'\n\n// ============================================================================\n// Renderer Types\n// ============================================================================\n\nexport type {\n  RendererProps,\n  FormStateAPI,\n  FieldSuggestionState,\n  BulkSuggestResponse,\n  BackgroundJob,\n  ShormsSchema,\n  FormValues,\n} from './components/shorms/renderer'\n\n// ============================================================================\n// Viewer Utilities\n// ============================================================================\n\nexport {\n  FieldDisplay,\n  formatFieldValue,\n  getValidationSummary,\n  getFormStatistics,\n  getFieldTypeLabel,\n} from './components/shorms/viewer'\n\nexport type { ViewMode, ViewerMetadata, FormStatistics } from './components/shorms/viewer'\nexport type { ShadcnViewerProps as ViewerProps } from './components/shorms/shadcn-viewer'\n\n// ============================================================================\n// Headless Components (for custom UI implementations)\n// ============================================================================\n\nimport { Builder as HeadlessBuilder } from './components/shorms/builder'\nimport { Renderer as HeadlessRenderer } from './components/shorms/renderer'\nimport { Viewer as HeadlessViewer } from './components/shorms/viewer'\n\n/**\n * Headless components for building custom UI implementations\n *\n * @example\n * ```tsx\n * import { Headless } from 'shorms'\n *\n * // Use with your own UI library (DaisyUI, Chakra, etc.)\n * <Headless.Builder pages={pages} ... />\n * <Headless.Renderer pages={pages} ... />\n * <Headless.Viewer pages={pages} ... />\n * ```\n */\nexport const Headless = {\n  Builder: HeadlessBuilder,\n  Renderer: HeadlessRenderer,\n  Viewer: HeadlessViewer,\n} as const\n"]}